var CodeMirror=function(){function o(a,d){var h,n,t;function I(k){return 0<=k&&k<v.size}function z(k){for(var a=v;!a.lines;)for(var m=0;;++m){var d=a.children[m],h=d.chunkSize();if(k<h){a=d;break}k-=h}return a.lines[k]}function u(k,a){ja=!0;for(var m=a-k.height,d=k;d;d=d.parent)d.height+=m}function q(k){var a={line:0,ch:0};Mb(a,{line:v.size-1,ch:z(v.size-1).text.length},Pa(k),a,a);qa=!0}function D(k,a){if("string"==typeof k&&(k=Ia[k],!k))return!1;var m=ea;try{r.readOnly&&(bb=!0),a&&(ea=null),k(N)}catch(d){if(d!=
cb)throw d;return!1}finally{ea=m,bb=!1}return!0}function M(k){var a=s(r.keyMap),m=a.auto;clearTimeout(Nb);m&&!j(k)&&(Nb=setTimeout(function(){s(r.keyMap)==a&&(r.keyMap=m.call?m.call(null,N):m)},50));var d=Aa[C(k,"keyCode")],h=!1;if(null==d||k.altGraphKey)return!1;C(k,"altKey")&&(d="Alt-"+d);C(k,"ctrlKey")&&(d="Ctrl-"+d);C(k,"metaKey")&&(d="Cmd-"+d);if(h=C(k,"shiftKey")?l("Shift-"+d,r.extraKeys,r.keyMap,function(k){return D(k,!0)})||l(d,r.extraKeys,r.keyMap,function(k){if("string"==typeof k&&/^go/.test(k))return D(k)}):
l(d,r.extraKeys,r.keyMap,D))B(k),oa&&(k.oldKeyCode=k.keyCode,k.keyCode=0);return h}function Ha(k,a){var m=l("'"+a+"'",r.extraKeys,r.keyMap,D);m&&B(k);return m}function na(k){fa||L();oa&&27==k.keyCode&&(k.returnValue=!1);Ja&&db()&&(Ja=!1);if(!r.onKeyEvent||!r.onKeyEvent(N,H(k))){var a=C(k,"keyCode");Ob(16==a||C(k,"shiftKey"));var m=M(k);window.opera&&(rb=m?a:null,!m&&88==a&&C(k,Ka?"metaKey":"ctrlKey")&&La(""))}}function L(){if("nocursor"!=r.readOnly){if(!fa){if(r.onFocus)r.onFocus(N);fa=!0;-1==O.className.search(/\bCodeMirror-focused\b/)&&
(O.className+=" CodeMirror-focused");Qa||eb(!0)}fb();Pb()}}function sb(){if(fa){if(r.onBlur)r.onBlur(N);fa=!1;ra&&x(function(){ra&&(ra(),ra=null)})();O.className=O.className.replace(" CodeMirror-focused","")}clearInterval(tb);setTimeout(function(){fa||(ea=null)},150)}function Mb(k,a,m,d,h){if(!bb){if(ga){var n=[];v.iter(k.line,a.line+1,function(k){n.push(k.text)});for(ga.addChange(k.line,m.length,n);ga.done.length>r.undoDepth;)ga.done.shift()}Qb(k,a,m,d,h)}}function Z(k,a){if(k.length){for(var m=
k.pop(),d=[],h=m.length-1;0<=h;h-=1){var n=m[h],b=[],c=n.start+n.added;v.iter(n.start,c,function(k){b.push(k.text)});d.push({start:n.start,added:n.old.length,old:b});var e=Q({line:n.start+n.old.length-1,ch:ub(b[b.length-1],n.old[n.old.length-1])});Qb({line:n.start,ch:0},{line:c-1,ch:z(c-1).text.length},n.old,e,e)}qa=!0;a.push(d)}}function Qb(k,a,m,d,b){if(!bb){var c=!1,f=sa.length;r.lineWrapping||v.iter(k.line,a.line,function(k){if(k.text.length==f)return c=!0});if(k.line!=a.line||1<m.length)ja=!0;
var t=a.line-k.line,p=z(k.line),g=z(a.line);if(0==k.ch&&0==a.ch&&""==m[m.length-1]){var I=[],p=null;k.line?(p=z(k.line-1),p.fixMarkEnds(g)):g.fixMarkStarts();for(var i=0,j=m.length-1;i<j;++i)I.push(e.inheritMarks(m[i],p));t&&v.remove(k.line,t,Ra);I.length&&v.insert(k.line,I)}else if(p==g)if(1==m.length)p.replace(k.ch,a.ch,m[0]);else{g=p.split(a.ch,m[m.length-1]);p.replace(k.ch,null,m[0]);p.fixMarkEnds(g);I=[];i=1;for(j=m.length-1;i<j;++i)I.push(e.inheritMarks(m[i],p));I.push(g);v.insert(k.line+1,
I)}else if(1==m.length)p.replace(k.ch,null,m[0]),g.replace(null,a.ch,""),p.append(g),v.remove(k.line+1,t,Ra);else{I=[];p.replace(k.ch,null,m[0]);g.replace(null,a.ch,m[m.length-1]);p.fixMarkEnds(g);i=1;for(j=m.length-1;i<j;++i)I.push(e.inheritMarks(m[i],p));1<t&&v.remove(k.line+1,t-1,Ra);v.insert(k.line+1,I)}if(r.lineWrapping){var l=w.clientWidth/vb()-3;v.iter(k.line,k.line+m.length,function(k){if(!k.hidden){var a=Math.ceil(k.text.length/l)||1;a!=k.height&&u(k,a)}})}else v.iter(k.line,i+m.length,function(k){k=
k.text;k.length>f&&(sa=k,f=k.length,ta=null,c=!1)}),c&&(f=0,sa="",ta=null,v.iter(0,v.size,function(k){k=k.text;k.length>f&&(f=k.length,sa=k)}));g=[];t=m.length-t-1;i=0;for(I=ka.length;i<I;++i)j=ka[i],j<k.line?g.push(j):j>a.line&&g.push(j+t);i=k.line+Math.min(m.length,500);oc(k.line,i);g.push(i);ka=g;wb(100);ha.push({from:k.line,to:a.line+1,diff:t});k={from:k,to:a,text:m};if(Sa){for(m=Sa;m.next;m=m.next);m.next=k}else Sa=k;Ta(d,b,h.line<=Math.min(a.line,a.line+t)?h.line:h.line+t,n.line<=Math.min(a.line,
a.line+t)?n.line:n.line+t);w.clientHeight&&(V.style.height=v.height*pa()+2*F.offsetTop+"px")}}function la(k,a,m){function d(h){if(Y(h,a))return h;if(!Y(m,h))return b;var n=h.line+k.length-(m.line-a.line)-1,c=h.ch;h.line==m.line&&(c+=k[k.length-1].length-(m.ch-(m.line==a.line?a.ch:0)));return{line:n,ch:c}}var a=Q(a),m=m?Q(m):a,k=Pa(k),b;ia(k,a,m,function(k){b=k;return{from:d(h),to:d(n)}});return b}function La(k,a){ia(Pa(k),h,n,function(k){return"end"==a?{from:k,to:k}:"start"==a?{from:h,to:h}:{from:h,
to:k}})}function ia(k,a,m,d){d=d({line:a.line+k.length-1,ch:1==k.length?k[0].length+a.ch:k[k.length-1].length});Mb(a,m,k,d.from,d.to)}function Rb(k,a){var m=k.line,d=a.line;if(m==d)return z(m).text.slice(k.ch,a.ch);var h=[z(m).text.slice(k.ch)];v.iter(m+1,d,function(k){h.push(k.text)});h.push(z(d).text.slice(0,a.ch));return h.join("\n")}function gb(){return Rb(h,n)}function fb(){Ja||xb.set(r.pollInterval,function(){yb();db();fa&&fb();zb()})}function Ua(){function k(){yb();!db()&&!a?(a=!0,xb.set(60,
k)):(Ja=!1,fb());zb()}var a=!1;Ja=!0;xb.set(20,k)}function db(){if(Qa||!fa||pc(J)||r.readOnly)return!1;var k=J.value;if(k==ua)return!1;ea=null;for(var a=0,m=Math.min(ua.length,k.length);a<m&&ua[a]==k[a];)++a;a<ua.length?h={line:h.line,ch:h.ch-(ua.length-a)}:hb&&K(h,n)&&(n={line:n.line,ch:Math.min(z(n.line).text.length,n.ch+(k.length-a))});La(k.slice(a),"end");ua=k;return!0}function eb(a){K(h,n)?a&&(ua=J.value=""):(ua="",J.value=gb(),Ma(J))}function Ba(){"nocursor"!=r.readOnly&&J.focus()}function qc(){if(W.getBoundingClientRect){var a=
W.getBoundingClientRect();if(!(oa&&a.top==a.bottom)){var d=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(0>a.top||a.bottom>d)&&W.scrollIntoView()}}}function Sb(){var a=va(t?h:n),d=r.lineWrapping?Math.min(a.x,F.offsetWidth):a.x;return Tb(d,a.y,d,a.yBot)}function Tb(a,d,m,h){var n=F.offsetLeft,b=F.offsetTop,c=pa(),d=d+b,h=h+b,a=a+n,m=m+n,e=w.clientHeight,t=w.scrollTop,n=!1,b=!0;d<t?(w.scrollTop=Math.max(0,d-2*c),n=!0):h>t+e&&(w.scrollTop=h+c-e,n=!0);
d=w.clientWidth;h=w.scrollLeft;c=r.fixedGutter?X.clientWidth:0;a<h+c?(50>a&&(a=0),w.scrollLeft=Math.max(0,a-10-c),n=!0):m>d+h-3&&(w.scrollLeft=m+10-d,n=!0,m>V.clientWidth&&(b=!1));if(n&&r.onScroll)r.onScroll(N);return b}function Ub(){var a=pa(),d=w.scrollTop-F.offsetTop,m=Math.max(0,Math.floor(d/a)),a=Math.ceil((d+w.clientHeight)/a);return{from:$(v,m),to:$(v,a)}}function Ca(a,d){if(w.clientWidth){var m=Ub();if(!(!0!==a&&0==a.length&&m.from>S&&m.to<aa)){var h=Math.max(m.from-100,0),m=Math.min(v.size,
m.to+100);S<h&&20>h-S&&(h=S);aa>m&&20>aa-m&&(m=Math.min(v.size,aa));for(var n=!0===a?[]:rc([{from:S,to:aa,domStart:0}],a),b=0,c=0;c<n.length;++c){var e=n[c];e.from<h&&(e.domStart+=h-e.from,e.from=h);e.to>m&&(e.to=m);e.from>=e.to?n.splice(c--,1):b+=e.to-e.from}if(b!=m-h){n.sort(function(a,k){return a.domStart-k.domStart});var t=pa(),b=X.style.display;ba.style.display="none";sc(h,m,n);ba.style.display=X.style.display="";(c=h!=S||m!=aa||Vb!=w.clientHeight+t)&&(Vb=w.clientHeight+t);S=h;aa=m;Va=P(v,h);
ib.style.top=Va*t+"px";w.clientHeight&&(V.style.height=v.height*t+2*F.offsetTop+"px");if(ba.childNodes.length!=aa-S)throw Error("BAD PATCH! "+JSON.stringify(n)+" size="+(aa-S)+" nodes="+ba.childNodes.length);if(r.lineWrapping){ta=w.clientWidth;var f=ba.firstChild,p=!1;v.iter(S,aa,function(a){if(!a.hidden){var k=Math.round(f.offsetHeight/t)||1;a.height!=k&&(u(a,k),ja=p=!0)}f=f.nextSibling});p&&(V.style.height=v.height*t+2*F.offsetTop+"px")}else null==ta&&(ta=Ab(sa)),ta>w.clientWidth?(F.style.width=
ta+"px",V.style.width="",V.style.width=w.scrollWidth+"px"):F.style.width=V.style.width="";X.style.display=b;(c||ja)&&Wb();Xb();if(!d&&r.onUpdate)r.onUpdate(N);return!0}}}else S=aa=Va=0}function rc(a,d){for(var m=0,h=d.length||0;m<h;++m){for(var n=d[m],b=[],c=n.diff||0,e=0,t=a.length;e<t;++e){var f=a[e];n.to<=f.from&&n.diff?b.push({from:f.from+c,to:f.to+c,domStart:f.domStart}):n.to<=f.from||n.from>=f.to?b.push(f):(n.from>f.from&&b.push({from:f.from,to:n.from,domStart:f.domStart}),n.to<f.to&&b.push({from:n.to+
c,to:f.to+c,domStart:f.domStart+(n.to-f.from)}))}a=b}return a}function sc(a,d,m){if(m.length){for(var h=function(a){var k=a.nextSibling;a.parentNode.removeChild(a);return k},n=0,b=ba.firstChild,c=0;c<m.length;++c){for(var e=m[c];e.domStart>n;)b=h(b),n++;for(var f=0,e=e.to-e.from;f<e;++f)b=b.nextSibling,n++}for(;b;)b=h(b)}else ba.innerHTML="";var t=m.shift(),b=ba.firstChild,f=a,p=document.createElement("div");v.iter(a,d,function(a){t&&t.to==f&&(t=m.shift());if(!t||t.from>f){if(a.hidden)var k=p.innerHTML=
"<pre></pre>";else k="<pre"+(a.className?' class="'+a.className+'"':"")+">"+a.getHTML(Yb)+"</pre>",a.bgClassName&&(k='<div style="position: relative"><pre class="'+a.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+k+"</div>");p.innerHTML=k;ba.insertBefore(p.firstChild,b)}else b=b.nextSibling;++f})}function Wb(){if(r.gutter||r.lineNumbers){var a=ib.offsetHeight,d=w.clientHeight;X.style.height=(2>a-d?d:a)+"px";var m=[],h=S,n;v.iter(S,Math.max(aa,
S+1),function(a){if(a.hidden)m.push("<pre></pre>");else{var k=a.gutterMarker,d=r.lineNumbers?h+r.firstLineNumber:null;k&&k.text?d=k.text.replace("%N%",null!=d?d:""):null==d&&(d="\u00a0");m.push(k&&k.style?'<pre class="'+k.style+'">':"<pre>",d);for(d=1;d<a.height;++d)m.push("<br/>&#160;");m.push("</pre>");k||(n=h)}++h});X.style.display="none";Wa.innerHTML=m.join("");if(null!=n){for(var a=Wa.childNodes[n-S],d=(""+v.size).length,b=a.textContent||a.innerText||a.nodeValue||"",c="";b.length+c.length<d;)c+=
"\u00a0";c&&a.insertBefore(document.createTextNode(c),a.firstChild)}X.style.display="";F.style.marginLeft=X.offsetWidth+"px";ja=!1}}function Xb(){var a=K(h,n),d=va(h,!0),m=a?d:va(n,!0),b=t?d:m,c=pa(),e=ca(O),f=ca(ba);Xa.style.top=Math.max(0,Math.min(w.offsetHeight,b.y+f.top-e.top))+"px";Xa.style.left=Math.max(0,Math.min(w.offsetWidth,b.x+f.left-e.left))+"px";if(a)W.style.top=b.y+"px",W.style.left=(r.lineWrapping?Math.min(b.x,F.offsetWidth):b.x)+"px",W.style.display="",jb.style.display="none";else{var a=
d.y==m.y,p="",b=function(a,k,d,m){p+='<div class="CodeMirror-selected" style="position: absolute; left: '+a+"px; top: "+k+"px; right: "+d+"px; height: "+m+'px"></div>'};h.ch&&0<=d.y&&b(d.x,d.y,a?F.clientWidth-m.x:0,c);d=Math.max(0,d.y+(h.ch?c:0));e=Math.min(m.y,F.clientHeight)-d;e>0.2*c&&b(0,d,0,e);(!a||!h.ch)&&m.y<F.clientHeight-0.5*c&&b(0,m.y,F.clientWidth-m.x,c);jb.innerHTML=p;W.style.display="none";jb.style.display=""}}function Ob(a){ea=a?ea||(t?n:h):null}function wa(a,d){var m=ea&&Q(ea);m&&(Y(m,
a)?a=m:Y(d,m)&&(d=m));Ta(a,d);kb=!0}function Ta(a,d,m,b){lb=null;null==m&&(m=h.line,b=n.line);if(!K(h,a)||!K(n,d)){if(Y(d,a))var c=d,d=a,a=c;a.line!=m&&(a=mb(a,m,h.ch));d.line!=b&&(d=mb(d,b,n.ch));K(a,d)?t=!1:K(a,n)?t=!1:K(d,h)&&(t=!0);if(r.autoClearEmptyLines&&K(h,n)&&(t?a:d).line!=h.line){var e=z(h.line);/^\s+$/.test(e.text)&&setTimeout(x(function(){if(e.parent&&/^\s+$/.test(e.text)){var a=f(e);la("",{line:a,ch:0},{line:a,ch:e.text.length})}},10))}h=a;n=d;xa=!0}}function mb(a,d,m){function h(d){for(var n=
a.line+d,b=1==d?v.size:-1;n!=b;){var c=z(n);if(!c.hidden){d=a.ch;if(d>m||d>c.text.length)d=c.text.length;return{line:n,ch:d}}n+=d}}return!z(a.line).hidden?a:a.line>=d?h(1)||h(-1):h(-1)||h(1)}function ya(a,d,m){a=Q({line:a,ch:d||0});(m?wa:Ta)(a,a)}function nb(a){return Math.max(0,Math.min(a,v.size-1))}function Q(a){if(0>a.line)return{line:0,ch:0};if(a.line>=v.size)return{line:v.size-1,ch:z(v.size-1).text.length};var d=a.ch,m=z(a.line).text.length;return null==d||d>m?{line:a.line,ch:m}:0>d?{line:a.line,
ch:0}:a}function Bb(a,d){function m(d){if(e==(0>a?0:f.text.length)){if(d=!d)a:{for(var d=c+a,m=0>a?-1:v.size;d!=m;d+=a){var h=z(d);if(!h.hidden){c=d;f=h;d=!0;break a}}d=void 0}if(d)e=0>a?f.text.length:0;else return!1}else e+=a;return!0}var b=t?h:n,c=b.line,e=b.ch,f=z(c);if("char"==d)m();else if("column"==d)m(!0);else if("word"==d)for(b=!1;!(0>a)||m();){if(Na(f.text.charAt(e)))b=!0;else if(b){0>a&&(a=1,m());break}if(0<a&&!m())break}return{line:c,ch:e}}function Zb(a){for(var d=z(a.line).text,m=a.ch,
h=a.ch;0<m&&Na(d.charAt(m-1));)--m;for(;h<d.length&&Na(d.charAt(h));)++h;wa({line:a.line,ch:m},{line:a.line,ch:h})}function tc(a){wa({line:a,ch:0},Q({line:a+1,ch:0}))}function ob(a,d){d||(d="add");if("smart"==d)if(R.indent)var m=pb(a);else d="prev";var b=z(a),c=b.indentation(r.tabSize),e=b.text.match(/^\s*/)[0],f;"prev"==d?f=a?z(a-1).indentation(r.tabSize):0:"smart"==d?f=R.indent(m,b.text.slice(e.length),b.text):"add"==d?f=c+r.indentUnit:"subtract"==d&&(f=c-r.indentUnit);f=Math.max(0,f);if(f-c){c=
"";m=0;if(r.indentWithTabs)for(b=Math.floor(f/r.tabSize);b;--b)m+=r.tabSize,c+="\t";for(;m<f;)++m,c+=" "}else{if(h.line!=a&&n.line!=a)return;c=e}la(c,{line:a,ch:0},{line:a,ch:e.length})}function $b(){R=o.getMode(r,r.mode);v.iter(0,v.size,function(a){a.stateAfter=null});ka=[0];wb()}function uc(){if(r.lineWrapping){O.className+=" CodeMirror-wrap";var a=w.clientWidth/vb()-3;v.iter(0,v.size,function(d){if(!d.hidden){var m=Math.ceil(d.text.length/a)||1;1!=m&&u(d,m)}});F.style.width=V.style.width=""}else O.className=
O.className.replace(" CodeMirror-wrap",""),ta=null,sa="",v.iter(0,v.size,function(a){1!=a.height&&!a.hidden&&u(a,1);a.text.length>sa.length&&(sa=a.text)});ha.push({from:0,to:v.size})}function Yb(a){var a=r.tabSize-a%r.tabSize,d=ac[a];if(d)return d;for(var d='<span class="cm-tab">',m=0;m<a;++m)d+=" ";return ac[a]={html:d+"</span>",width:a}}function bc(){w.className=w.className.replace(/\s*cm-s-\w+/g,"")+r.theme.replace(/(^|\s)\s*/g," cm-s-")}function Cb(){this.set=[]}function Db(a,d,m){function h(a,
k,d,m){z(a).addMark(new c(k,d,m,n.set))}var a=Q(a),d=Q(d),n=new Cb;if(!Y(a,d))return n;if(a.line==d.line)h(a.line,a.ch,d.ch,m);else{h(a.line,a.ch,null,m);for(var b=a.line+1,e=d.line;b<e;++b)h(b,null,null,m);h(d.line,null,d.ch,m)}ha.push({from:a.line,to:d.line+1});return n}function cc(a,d){var h=a,n=a;"number"==typeof a?n=z(nb(a)):h=f(a);if(null!=h&&d(n,h))ha.push({from:h,to:h+1});else return null;return n}function dc(a,d){return cc(a,function(a,k){if(a.hidden!=d){a.hidden=d;u(a,d?0:1);var b=h.line,
c=n.line;if(d&&(b==k||c==k))b=b==k?mb({line:b,ch:0},b,0):h,c=c==k?mb({line:c,ch:0},c,0):n,Ta(b,c);return ja=!0}})}function Ab(a){za.innerHTML="<pre><span>x</span></pre>";za.firstChild.firstChild.firstChild.nodeValue=a;return za.firstChild.firstChild.offsetWidth||10}function ec(a,d){if(0==d)return{top:0,left:0};var h="";r.lineWrapping&&(h=a.text.indexOf(" ",d+6),h=da(a.text.slice(d+1,0>h?a.text.length:h+(oa?5:0))));za.innerHTML="<pre>"+a.getHTML(Yb,d)+'<span id="CodeMirror-temp-'+fc+'">'+da(a.text.charAt(d)||
" ")+"</span>"+h+"</pre>";var h=document.getElementById("CodeMirror-temp-"+fc),n=h.offsetTop,b=h.offsetLeft;oa&&0==n&&0==b&&(n=document.createElement("span"),n.innerHTML="x",h.parentNode.insertBefore(n,h.nextSibling),n=n.offsetTop);return{top:n,left:b}}function va(a,d){var h,n=pa(),b=n*(P(v,a.line)-(d?Va:0));if(0==a.ch)h=0;else{var c=ec(z(a.line),a.ch);h=c.left;r.lineWrapping&&(b+=Math.max(0,c.top))}return{x:h,y:b,yBot:b+n}}function Eb(a,d){function h(a){a=ec(f,a);if(p){var d=Math.round(a.top/n);
return Math.max(0,a.left+(d-g)*w.clientWidth)}return a.left}0>d&&(d=0);var n=pa(),b=vb(),c=Va+Math.floor(d/n),e=$(v,c);if(e>=v.size)return{line:v.size-1,ch:z(v.size-1).text.length};var f=z(e),t=f.text,p=r.lineWrapping,g=p?c-P(v,e):0;if(0>=a&&0==g)return{line:e,ch:0};for(var i=c=0,t=t.length,I,b=Math.min(t,Math.ceil((a+0.9*g*w.clientWidth)/b));;){var j=h(b);if(j<=a&&b<t)b=Math.min(t,Math.ceil(1.2*b));else{I=j;t=b;break}}if(a>I)return{line:e,ch:t};b=Math.floor(0.8*t);j=h(b);j<a&&(c=b,i=j);for(;;){if(1>=
t-c)return{line:e,ch:I-a>a-i?c:t};b=Math.ceil((c+t)/2);j=h(b);j>a?(t=b,I=j):(c=b,i=j)}}function pa(){if(null==Da){Da="<pre>";for(var a=0;49>a;++a)Da+="x<br/>";Da+="x</pre>"}a=ba.clientHeight;if(a==gc)return Fb;gc=a;za.innerHTML=Da;Fb=za.firstChild.offsetHeight/50||1;za.innerHTML="";return Fb}function vb(){if(w.clientWidth==hc)return ic;hc=w.clientWidth;return ic=Ab("x")}function Oa(a,d){var h=ca(w,!0),b,n;try{b=a.clientX,n=a.clientY}catch(c){return null}if(!d&&(b-h.left>w.clientWidth||n-h.top>w.clientHeight))return null;
h=ca(F,!0);return Eb(b-h.left,n-h.top)}function jc(a){function d(){var a=Pa(J.value).join("\n");a!=f&&x(La)(a,"end");Xa.style.position="relative";J.style.cssText=e;p&&(w.scrollTop=c);Qa=!1;eb(!0);fb()}var b=Oa(a),c=w.scrollTop;if(b&&!window.opera){(K(h,n)||Y(b,h)||!Y(b,n))&&x(ya)(b.line,b.ch);var e=J.style.cssText;Xa.style.position="absolute";J.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
Qa=!0;var f=J.value=gb();Ba();Ma(J);if(Ea){A(a);var t=G(window,"mouseup",function(){t();setTimeout(d,20)},!0)}else setTimeout(d,50)}}function Pb(){clearInterval(tb);var a=!0;W.style.visibility="";tb=setInterval(function(){W.style.visibility=(a=!a)?"":"hidden"},650)}function kc(a){function d(a,k,h){if(a.text)for(var b=a.styles,a=p?0:a.text.length-1,n,c=p?0:b.length-2,m=p?b.length:-2;c!=m;c+=2*g){var e=b[c];if(null!=b[c+1]&&b[c+1]!=u)a+=g*e.length;else for(var f=p?0:e.length-1,t=p?e.length:-1;f!=t;f+=
g,a+=g)if(a>=k&&a<h&&o.test(n=e.charAt(f))){var i=Gb[n];if(">"==i.charAt(1)==p)l.push(n);else{if(l.pop()!=i.charAt(0))return{pos:a,match:!1};if(!l.length)return{pos:a,match:!0}}}}}var b=t?h:n,c=z(b.line),e=b.ch-1,f=0<=e&&Gb[c.text.charAt(e)]||Gb[c.text.charAt(++e)];if(f){f.charAt(0);for(var p=">"==f.charAt(1),g=p?1:-1,i=c.styles,I=e+1,f=0,j=i.length;f<j;f+=2)if(0>=(I-=i[f].length)){var u=i[f+1];break}for(var l=[c.text.charAt(e)],o=/[(){}[\]]/,f=b.line,j=p?Math.min(f+100,v.size):Math.max(-1,f-100);f!=
j;f+=g){var c=z(f),y=f==b.line;if(y=d(c,y&&p?e+1:0,y&&!p?e:c.text.length))break}y||(y={pos:null,match:!1});var u=y.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",C=Db({line:b.line,ch:e},{line:b.line,ch:e+1},u),q=null!=y.pos&&Db({line:f,ch:y.pos},{line:f,ch:y.pos+1},u),b=x(function(){C.clear();q&&q.clear()});a?setTimeout(b,800):ra=b}}function lc(a){for(var d,h,b=a,a=a-40;b>a;--b){if(0==b)return 0;var n=z(b-1);if(n.stateAfter)return b;n=n.indentation(r.tabSize);if(null==h||d>n)h=
b-1,d=n}return h}function pb(a){var d=lc(a),h=d&&z(d-1).stateAfter,h=h?i(R,h):g(R);v.iter(d,a,function(a){a.highlight(R,h,r.tabSize);a.stateAfter=i(R,h)});d<a&&ha.push({from:d,to:a});a<v.size&&!z(a).stateAfter&&ka.push(a);return h}function oc(a,d){var h=pb(a);v.iter(a,d,function(a){a.highlight(R,h,r.tabSize);a.stateAfter=i(R,h)})}function vc(){for(var a=+new Date+r.workTime,d=ka.length;ka.length;){var h=z(S).stateAfter?ka.pop():S;if(!(h>=v.size)){var b=lc(h),n=b&&z(b-1).stateAfter,n=n?i(R,n):g(R),
c=0,e=R.compareStates,f=!1,t=b,p=!1;v.iter(t,v.size,function(d){var b=d.stateAfter;if(+new Date>a)return ka.push(t),wb(r.workDelay),f&&ha.push({from:h,to:t+1}),p=!0;var g=d.highlight(R,n,r.tabSize);g&&(f=!0);d.stateAfter=i(R,n);if(e){if(b&&e(b,n))return!0}else if(!1!==g||!b)c=0;else if(3<++c&&(!R.indent||R.indent(b,"")==R.indent(n,"")))return!0;++t});if(p)return;f&&ha.push({from:h,to:t+1})}}if(d&&r.onHighlightComplete)r.onHighlightComplete(N)}function wb(a){ka.length&&wc.set(a,x(vc))}function yb(){qa=
kb=Sa=null;ha=[];xa=!1;Ra=[]}function zb(){var a=!1,d;xa&&(a=!Sb());ha.length?d=Ca(ha,!0):(xa&&Xb(),ja&&Wb());a&&Sb();xa&&(qc(),Pb());fa&&!Qa&&(!0===qa||!1!==qa&&xa)&&eb(kb);xa&&r.matchBrackets&&setTimeout(x(function(){ra&&(ra(),ra=null);K(h,n)&&kc(!1)}),20);var b=Sa,a=Ra;if(xa&&r.onCursorActivity)r.onCursorActivity(N);if(b&&r.onChange&&N)r.onChange(N,b);for(b=0;b<a.length;++b)a[b](N);if(d&&r.onUpdate)r.onUpdate(N)}function x(a){return function(){mc++||yb();try{var d=a.apply(this,arguments)}finally{--mc||
zb()}return d}}var r={},Hb=o.defaults,Ya;for(Ya in Hb)Hb.hasOwnProperty(Ya)&&(r[Ya]=(d&&d.hasOwnProperty(Ya)?d:Hb)[Ya]);var O=document.createElement("div");O.className="CodeMirror"+(r.lineWrapping?" CodeMirror-wrap":"");O.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';
a.appendChild?a.appendChild(O):a(O);var Xa=O.firstChild,J=Xa.firstChild,w=O.lastChild,V=w.firstChild,ib=V.firstChild,X=ib.firstChild,Wa=X.firstChild,F=X.nextSibling.firstChild,za=F.firstChild,W=za.nextSibling,jb=W.nextSibling,ba=jb.nextSibling;bc();Fa&&(J.style.width="0px");Ib||(F.draggable=!0);F.style.outline="none";null!=r.tabindex&&(J.tabIndex=r.tabindex);!r.gutter&&!r.lineNumbers&&(X.style.display="none");try{Ab("x")}catch(Jb){throw Jb.message.match(/runtime/i)&&(Jb=Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),
Jb;}var xb=new Za,wc=new Za,tb,R,v=new E([new y([new e("")])]),ka,fa;$b();h={line:0,ch:0};n={line:0,ch:0};t=!1;var ea,qb,$a,Kb=0,Lb,hb=!1,bb=!1,qa,kb,ha,Sa,xa,Qa,ja,Ra,Va=0,S=0,aa=0,Vb=0,ra,sa="",ta,ac={};x(function(){q(r.value||"");qa=!1})();var ga=new U;G(w,"mousedown",x(function(a){function d(a){var h=Oa(a,!0);if(h&&!K(h,f)){fa||L();f=h;wa(e,h);qa=!1;var k=Ub();if(h.line>=k.to||h.line<k.from)t=setTimeout(x(function(){d(a)}),150)}}function b(a){clearTimeout(t);var d=Oa(a);d&&wa(e,d);B(a);Ba();qa=
!0;g();p()}Ob(C(a,"shiftKey"));for(var c=a.target||a.srcElement;c!=O;c=c.parentNode)if(c.parentNode==V&&c!=ib)return;for(c=a.target||a.srcElement;c!=O;c=c.parentNode)if(c.parentNode==Wa){if(r.onGutterClick)r.onGutterClick(N,ma(Wa.childNodes,c)+S,a);return B(a)}var e=Oa(a);switch(T(a)){case 3:Ea&&!Ka&&jc(a);return;case 2:e&&ya(e.line,e.ch,!0);return}if(e){fa||L();c=+new Date;if($a&&$a.time>c-400&&K($a.pos,e))return B(a),setTimeout(Ba,20),tc(e.line);if(qb&&qb.time>c-400&&K(qb.pos,e))return $a={time:c,
pos:e},B(a),Zb(e);qb={time:c,pos:e};var f=e,t;if(xc&&!r.readOnly&&!K(h,n)&&!Y(e,h)&&!Y(n,e)){Ib&&(F.draggable=!0);var p=G(document,"mouseup",x(function(d){Ib&&(F.draggable=!1);Lb=!1;p();10>Math.abs(a.clientX-d.clientX)+Math.abs(a.clientY-d.clientY)&&(B(d),ya(e.line,e.ch,!0),Ba())}),!0);Lb=!0;F.dragDrop&&F.dragDrop()}else{B(a);ya(e.line,e.ch,!0);var g=G(document,"mousemove",x(function(a){clearTimeout(t);B(a);!oa&&!T(a)?b(a):d(a)}),!0),p=G(document,"mouseup",x(b),!0)}}else(a.target||a.srcElement)==
w&&B(a)}));G(w,"dblclick",x(function(a){for(var d=a.target||a.srcElement;d!=O;d=d.parentNode)if(d.parentNode==Wa)return B(a);if(d=Oa(a))$a={time:+new Date,pos:d},B(a),Zb(d)}));G(F,"dragstart",function(a){var d=gb();a.dataTransfer.setData("Text",d);if(Ea||yc)d=document.createElement("img"),d.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=",a.dataTransfer.setDragImage(d,0,0)});G(F,"selectstart",B);Ea||G(w,"contextmenu",jc);G(w,"scroll",function(){Kb=w.scrollTop;Ca([]);r.fixedGutter&&
(X.style.left=w.scrollLeft+"px");if(r.onScroll)r.onScroll(N)});G(window,"resize",function(){Ca(!0)});G(J,"keyup",x(function(a){if(!r.onKeyEvent||!r.onKeyEvent(N,H(a)))16==C(a,"keyCode")&&(ea=null)}));G(J,"input",Ua);G(J,"keydown",x(na));G(J,"keypress",x(function(a){Ja&&db();if(!r.onKeyEvent||!r.onKeyEvent(N,H(a))){var d=C(a,"keyCode"),h=C(a,"charCode");if(window.opera&&d==rb)rb=null,B(a);else if(!window.opera||a.which||!M(a))d=String.fromCharCode(null==h?d:h),r.electricChars&&R.electricChars&&r.smartIndent&&
!r.readOnly&&-1<R.electricChars.indexOf(d)&&setTimeout(x(function(){ob(n.line,"smart")}),75),Ha(a,d)||Ua()}}));G(J,"focus",L);G(J,"blur",sb);G(w,"dragenter",A);G(w,"dragover",A);G(w,"drop",x(function(a){a.preventDefault();var d=Oa(a,!0),b=a.dataTransfer.files;if(d&&!r.readOnly)if(b&&b.length&&window.FileReader&&window.File)for(var a=function(a,h){var b=new FileReader;b.onload=function(){e[h]=b.result;++f==c&&(d=Q(d),x(function(){var a=la(e.join(""),d,d);wa(d,a)})())};b.readAsText(a)},c=b.length,e=
Array(c),f=0,t=0;t<c;++t)a(b[t],t);else try{if(e=a.dataTransfer.getData("Text"))b=h,a=n,wa(d,d),Lb&&la("",b,a),La(e),Ba()}catch(p){}}));G(w,"paste",function(){Ba();Ua()});G(J,"paste",Ua);G(J,"cut",x(function(){r.readOnly||La("")}));var nc;try{nc=document.activeElement==J}catch(zc){}nc?setTimeout(L,20):sb();var N=O.CodeMirror={getValue:function(){var a=[];v.iter(0,v.size,function(d){a.push(d.text)});return a.join("\n")},setValue:x(q),getSelection:gb,replaceSelection:x(La),focus:function(){window.focus();
Ba();L();Ua()},setOption:function(a,d){var h=r[a];r[a]=d;"mode"==a||"indentUnit"==a?$b():"readOnly"==a&&"nocursor"==d?(sb(),J.blur()):"readOnly"==a&&!d?eb(!0):"theme"==a?bc():"lineWrapping"==a&&h!=d?x(uc)():"tabSize"==a&&Ca(!0);if("lineNumbers"==a||"gutter"==a||"firstLineNumber"==a||"theme"==a)h=r.gutter||r.lineNumbers,X.style.display=h?"":"none",h?ja=!0:ba.parentNode.style.marginLeft=0,Ca(!0)},getOption:function(a){return r[a]},undo:x(function(){Z(ga.done,ga.undone)}),redo:x(function(){Z(ga.undone,
ga.done)}),indentLine:x(function(a,d){"string"!=typeof d&&(d=null==d?r.smartIndent?"smart":"prev":d?"add":"subtract");I(a)&&ob(a,d)}),indentSelection:x(function(a){if(K(h,n))return ob(h.line,a);for(var d=n.line-(n.ch?0:1),b=h.line;b<=d;++b)ob(b,a)}),historySize:function(){return{undo:ga.done.length,redo:ga.undone.length}},clearHistory:function(){ga=new U},matchBrackets:x(function(){kc(!0)}),getTokenAt:x(function(a){a=Q(a);return z(a.line).getTokenAt(R,pb(a.line),a.ch)}),getStateAfter:function(a){a=
nb(null==a?v.size-1:a);return pb(a+1)},cursorCoords:function(a,d){null==a&&(a=t);return this.charCoords(a?h:n,d)},charCoords:function(a,d){a=Q(a);if("local"==d)return va(a,!1);var h;if("div"==d)h=va(a,!0);else{h=va(a,!0);var b=ca(F);h={x:b.left+h.x,y:b.top+h.y,yBot:b.top+h.yBot}}return h},coordsChar:function(a){var d=ca(F);return Eb(a.x-d.left,a.y-d.top)},markText:x(Db),setBookmark:function(a){var a=Q(a),d=new b(a.ch);z(a.line).addMark(d);return d},setMarker:x(function(a,d,h){"number"==typeof a&&
(a=z(nb(a)));a.gutterMarker={text:d,style:h};ja=!0;return a}),clearMarker:x(function(a){"number"==typeof a&&(a=z(nb(a)));a.gutterMarker=null;ja=!0}),setLineClass:x(function(a,d,h){return cc(a,function(a){if(a.className!=d||a.bgClassName!=h)return a.className=d,a.bgClassName=h,!0})}),hideLine:x(function(a){return dc(a,!0)}),showLine:x(function(a){return dc(a,!1)}),onDeleteLine:function(a,d){if("number"==typeof a){if(!I(a))return null;a=z(a)}(a.handlers||(a.handlers=[])).push(d);return a},lineInfo:function(a){if("number"==
typeof a){if(!I(a))return null;var d=a,a=z(a);if(!a)return null}else if(d=f(a),null==d)return null;var h=a.gutterMarker;return{line:d,handle:a,text:a.text,markerText:h&&h.text,markerClass:h&&h.style,lineClass:a.className,bgClass:a.bgClassName}},addWidget:function(a,d,h,b,n){var a=va(Q(a)),c=a.yBot,e=a.x;d.style.position="absolute";V.appendChild(d);if("over"==b)c=a.y;else if("near"==b){var b=Math.max(w.offsetHeight,v.height*pa()),f=Math.max(V.clientWidth,F.clientWidth)-F.offsetLeft;a.yBot+d.offsetHeight>
b&&a.y>d.offsetHeight&&(c=a.y-d.offsetHeight);e+d.offsetWidth>f&&(e=f-d.offsetWidth)}d.style.top=c+F.offsetTop+"px";d.style.left=d.style.right="";"right"==n?(e=V.clientWidth-d.offsetWidth,d.style.right="0px"):("left"==n?e=0:"middle"==n&&(e=(V.clientWidth-d.offsetWidth)/2),d.style.left=e+F.offsetLeft+"px");h&&Tb(e,c,e+d.offsetWidth,c+d.offsetHeight)},lineCount:function(){return v.size},clipPos:Q,getCursor:function(a){null==a&&(a=t);return{line:(a?h:n).line,ch:(a?h:n).ch}},somethingSelected:function(){return!K(h,
n)},setCursor:x(function(a,d,h){null==d&&"number"==typeof a.line?ya(a.line,a.ch,h):ya(a,d,h)}),setSelection:x(function(a,d,h){(h?wa:Ta)(Q(a),Q(d||a))}),getLine:function(a){if(I(a))return z(a).text},getLineHandle:function(a){if(I(a))return z(a)},setLine:x(function(a,d){I(a)&&la(d,{line:a,ch:0},{line:a,ch:z(a).text.length})}),removeLine:x(function(a){I(a)&&la("",{line:a,ch:0},Q({line:a+1,ch:0}))}),replaceRange:x(la),getRange:function(a,d){return Rb(Q(a),Q(d))},triggerOnKeyDown:x(na),execCommand:function(a){return Ia[a](N)},
moveH:x(function(a,d){var b=0>a?h:n;if(ea||K(h,n))b=Bb(a,d);ya(b.line,b.ch,!0)}),deleteH:x(function(a,d){K(h,n)?0>a?la("",Bb(a,d),n):la("",h,Bb(a,d)):la("",h,n);kb=!0}),moveV:x(function(a,d){var b=0,c=va(t?h:n,!0);null!=lb&&(c.x=lb);"page"==d?b=Math.min(w.clientHeight,window.innerHeight||document.documentElement.clientHeight):"line"==d&&(b=pa());b=Eb(c.x,c.y+b*a+2);ya(b.line,b.ch,!0);lb=c.x}),toggleOverwrite:function(){hb?(hb=!1,W.className=W.className.replace(" CodeMirror-overwrite","")):(hb=!0,
W.className+=" CodeMirror-overwrite")},posFromIndex:function(a){var d=0,h;v.iter(0,v.size,function(b){b=b.text.length+1;if(b>a)return h=a,!0;a-=b;++d});return Q({line:d,ch:h})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;var d=a.ch;v.iter(0,a.line,function(a){d+=a.text.length+1});return d},scrollTo:function(a,d){null!=a&&(w.scrollLeft=a);null!=d&&(w.scrollTop=d);Ca([])},operation:function(a){return x(a)()},refresh:function(){Ca(!0);w.scrollHeight>Kb&&(w.scrollTop=Kb)},getInputField:function(){return J},
getWrapperElement:function(){return O},getScrollerElement:function(){return w},getGutterElement:function(){return X}},rb=null,Nb,Ja=!1,ua="",lb=null;Cb.prototype.clear=x(function(){for(var a=Infinity,d=-Infinity,h=0,b=this.set.length;h<b;++h){var c=this.set[h],n=c.marked;if(n&&c.parent){c=f(c);a=Math.min(a,c);d=Math.max(d,c);for(c=0;c<n.length;++c)n[c].set==this.set&&n.splice(c--,1)}}Infinity!=a&&ha.push({from:a,to:d+1})});Cb.prototype.find=function(){for(var a,d,h=0,b=this.set.length;h<b;++h)for(var c=
this.set[h],n=c.marked,e=0;e<n.length;++e){var t=n[e];if(t.set==this.set&&(null!=t.from||null!=t.to)){var p=f(c);null!=p&&(null!=t.from&&(a={line:p,ch:t.from}),null!=t.to&&(d={line:p,ch:t.to}))}}return{from:a,to:d}};var fc=Math.floor(16777215*Math.random()).toString(16),Fb,gc,Da,ic,hc=0,Gb={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},mc=0,ab;for(ab in Ga)Ga.propertyIsEnumerable(ab)&&!N.propertyIsEnumerable(ab)&&(N[ab]=Ga[ab]);return N}function s(a){return"string"==typeof a?L[a]:a}function l(a,
d,h,b){function c(d){var d=s(d),h=d[a];if(null!=h&&b(h))return!0;if(d.catchall)return b(d.catchall);d=d.fallthrough;if(null==d)return!1;if("[object Array]"!=Object.prototype.toString.call(d))return c(d);for(var h=0,e=d.length;h<e;++h)if(c(d[h]))return!0;return!1}return d&&c(d)?!0:c(h)}function j(a){a=Aa[C(a,"keyCode")];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function i(a,d){if(!0===d)return d;if(a.copyState)return a.copyState(d);var h={},b;for(b in d){var c=d[b];c instanceof Array&&(c=c.concat([]));
h[b]=c}return h}function g(a,d,h){return a.startState?a.startState(d,h):!0}function q(a,d){this.pos=this.start=0;this.string=a;this.tabSize=d||8}function c(a,d,h,b){this.from=a;this.to=d;this.style=h;this.set=b}function b(a){this.to=this.from=a;this.line=null}function e(a,d){this.styles=d||[a,null];this.text=a;this.height=1;this.stateAfter=this.parent=this.hidden=this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null}function u(a,d,h,b){for(var c=0,e=0,f=0;e<d;c+=2){var p=
h[c],g=e+p.length;0==f?(g>a&&b.push(p.slice(a-e,Math.min(p.length,d-e)),h[c+1]),g>=a&&(f=1)):1==f&&(g>d?b.push(p.slice(0,d-e),h[c+1]):b.push(p,h[c+1]));e=g}}function y(a){this.lines=a;this.parent=null;for(var d=0,h=a.length,b=0;d<h;++d)a[d].parent=this,b+=a[d].height;this.height=b}function E(a){this.children=a;for(var d=0,h=0,b=0,c=a.length;b<c;++b){var e=a[b],d=d+e.chunkSize(),h=h+e.height;e.parent=this}this.size=d;this.height=h;this.parent=null}function f(a){if(null==a.parent)return null;for(var d=
a.parent,a=ma(d.lines,a),h=d.parent;h;d=h,h=h.parent)for(var b=0;!(h.children[b]==d);++b)a+=h.children[b].chunkSize();return a}function $(a,d){var h=0;a:do{for(var b=0,c=a.children.length;b<c;++b){var e=a.children[b],f=e.height;if(d<f){a=e;continue a}d-=f;h+=e.chunkSize()}return h}while(!a.lines);b=0;for(c=a.lines.length;b<c;++b){e=a.lines[b].height;if(d<e)break;d-=e}return h+b}function P(a,d){var h=0;a:do{for(var b=0,c=a.children.length;b<c;++b){var e=a.children[b],f=e.chunkSize();if(d<f){a=e;continue a}d-=
f;h+=e.height}return h}while(!a.lines);for(b=0;b<d;++b)h+=a.lines[b].height;return h}function U(){this.time=0;this.done=[];this.undone=[]}function D(){A(this)}function H(a){a.stop||(a.stop=D);return a}function B(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function M(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function A(a){B(a);M(a)}function T(a){if(a.which)return a.which;if(a.button&1)return 1;if(a.button&2)return 3;if(a.button&4)return 2}function C(a,d){return a.override&&
a.override.hasOwnProperty(d)?a.override[d]:a[d]}function G(a,d,b,c){if("function"==typeof a.addEventListener){if(a.addEventListener(d,b,!1),c)return function(){a.removeEventListener(d,b,!1)}}else{var e=function(a){b(a||window.event)};a.attachEvent("on"+d,e);if(c)return function(){a.detachEvent("on"+d,e)}}}function Za(){this.id=null}function Ha(a,d,b){null==d&&(d=a.search(/[^\s\u00a0]/),-1==d&&(d=a.length));for(var c=0,e=0;c<d;++c)"\t"==a.charAt(c)?e+=b-e%b:++e;return e}function ca(a,d){for(var b=
a.ownerDocument.body,c=0,e=0,f=!1,p=a;p;p=p.offsetParent){var g=p.offsetLeft,i=p.offsetTop;p==b?(c+=Math.abs(g),e+=Math.abs(i)):(c+=g,e+=i);d&&"fixed"==(p.currentStyle?p.currentStyle:window.getComputedStyle(p,null)).position&&(f=!0)}b=d&&!f?null:b;for(p=a.parentNode;p!=b;p=p.parentNode)null!=p.scrollLeft&&(c-=p.scrollLeft,e-=p.scrollTop);return{left:c,top:e}}function Ma(a){Fa?(a.selectionStart=0,a.selectionEnd=a.value.length):a.select()}function K(a,d){return a.line==d.line&&a.ch==d.ch}function Y(a,
d){return a.line<d.line||a.line==d.line&&a.ch<d.ch}function da(a){na.textContent=a;return na.innerHTML}function ub(a,d){if(!d)return 0;if(!a)return d.length;for(var b=a.length,c=d.length;0<=b&&0<=c&&!(a.charAt(b)!=d.charAt(c));--b,--c);return c+1}function ma(a,d){if(a.indexOf)return a.indexOf(d);for(var b=0,c=a.length;b<c;++b)if(a[b]==d)return b;return-1}function Na(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}o.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,
smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null};var Fa=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),
Ka=Fa||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var Z={},ia={};o.defineMode=function(a,d){!o.defaults.mode&&"null"!=a&&(o.defaults.mode=a);Z[a]=d};o.defineMIME=function(a,d){ia[a]=d};o.resolveMode=function(a){if("string"==typeof a&&ia.hasOwnProperty(a))a=ia[a];else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return o.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};o.getMode=function(a,d){var d=o.resolveMode(d),b=Z[d.name];return!b?
(window.console&&console.warn("No mode "+d.name+" found, falling back to plain text."),o.getMode(a,"text/plain")):b(a,d)};o.listModes=function(){var a=[],d;for(d in Z)Z.propertyIsEnumerable(d)&&a.push(d);return a};o.listMIMEs=function(){var a=[],d;for(d in ia)ia.propertyIsEnumerable(d)&&a.push({mime:d,mode:ia[d]});return a};var Ga=o.extensions={};o.defineExtension=function(a,d){Ga[a]=d};var Ia=o.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var d=
a.getCursor(!0),b=a.getCursor(!1),c=!K(d,b);!c&&a.getLine(d.line).length==d.ch?a.replaceRange("",d,{line:d.line+1,ch:0}):a.replaceRange("",d,c?b:{line:d.line})},deleteLine:function(a){var d=a.getCursor().line;a.replaceRange("",{line:d,ch:0},{line:d})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var d=
a.getCursor(),b=a.getLine(d.line),b=Math.max(0,b.search(/\S/));a.setCursor(d.line,d.ch<=b&&d.ch?0:b,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,
"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},transposeChars:function(a){var d=
a.getCursor(),b=a.getLine(d.line);0<d.ch&&d.ch<b.length-1&&a.replaceRange(b.charAt(d.ch)+b.charAt(d.ch-1),{line:d.line,ch:d.ch-1},{line:d.line,ch:d.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n","end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},L=o.keyMap={};L.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",
Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};L.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext",
"Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"};L.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext",
"Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]};L["default"]=Ka?L.macDefault:L.pcDefault;L.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine",
"Ctrl-T":"transposeChars"};o.fromTextArea=function(a,d){function b(){a.value=p.getValue()}d||(d={});d.value=a.value;!d.tabindex&&a.tabindex&&(d.tabindex=a.tabindex);if(a.form){var c=G(a.form,"submit",b,!0);if("function"==typeof a.form.submit){var e=a.form.submit,f=function(){b();a.form.submit=e;a.form.submit();a.form.submit=f};a.form.submit=f}}a.style.display="none";var p=o(function(d){a.parentNode.insertBefore(d,a.nextSibling)},d);p.save=b;p.getTextArea=function(){return a};p.toTextArea=function(){b();
a.parentNode.removeChild(p.getWrapperElement());a.style.display="";a.form&&(c(),"function"==typeof a.form.submit&&(a.form.submit=e))};return p};o.copyState=i;o.startState=g;q.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var d=this.string.charAt(this.pos);if("string"==typeof a?d==a:d&&(a.test?
a.test(d):a(d)))return++this.pos,d},eatWhile:function(a){for(var d=this.pos;this.eat(a););return this.pos>d},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return Ha(this.string,this.start,this.tabSize)},indentation:function(){return Ha(this.string,
null,this.tabSize)},match:function(a,d,b){if("string"==typeof a){if((b?this.string.toLowerCase():this.string).indexOf(b?a.toLowerCase():a,this.pos)==this.pos)return!1!==d&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&!1!==d)this.pos+=a[0].length;return a}},current:function(){return this.string.slice(this.start,this.pos)}};o.StringStream=q;c.prototype={attach:function(a){this.set.push(a)},detach:function(a){a=ma(this.set,a);-1<a&&this.set.splice(a,1)},split:function(a,
d){return this.to<=a&&null!=this.to?null:new c(this.from<a||null==this.from?null:this.from-a+d,null==this.to?null:this.to-a+d,this.style,this.set)},dup:function(){return new c(null,null,this.style,this.set)},clipTo:function(a,d,b,c,e){a&&c>this.from&&(c<this.to||null==this.to)?this.from=null:null!=this.from&&this.from>=d&&(this.from=Math.max(c,this.from)+e);b&&(d<this.to||null==this.to)&&(d>this.from||null==this.from)?this.to=null:null!=this.to&&this.to>d&&(this.to=c<this.to?this.to+e:d)},isDead:function(){return null!=
this.from&&null!=this.to&&this.from>=this.to},sameSet:function(a){return this.set==a.set}};b.prototype={attach:function(a){this.line=a},detach:function(a){this.line==a&&(this.line=null)},split:function(a,d){if(a<this.from)return this.from=this.to=this.from-a+d,this},isDead:function(){return this.from>this.to},clipTo:function(a,d,b,c,e){(a||d<this.from)&&(b||c>this.to)?(this.from=0,this.to=-1):this.from>d&&(this.from=this.to=Math.max(c,this.from)+e)},sameSet:function(){return!1},find:function(){return!this.line||
!this.line.parent?null:{line:f(this.line),ch:this.from}},clear:function(){if(this.line){var a=ma(this.line.marked,this);-1!=a&&this.line.marked.splice(a,1);this.line=null}}};e.inheritMarks=function(a,d){var b=new e(a),c=d&&d.marked;if(c)for(var f=0;f<c.length;++f)if(null==c[f].to&&c[f].style){var p=b.marked||(b.marked=[]),g=c[f].dup();p.push(g);g.attach(b)}return b};e.prototype={replace:function(a,d,b){var c=[],e=this.marked,f=null==d?this.text.length:d;u(0,a,this.styles,c);b&&c.push(b,null);u(f,
this.text.length,this.styles,c);this.styles=c;this.text=this.text.slice(0,a)+b+this.text.slice(f);this.stateAfter=null;if(e){b=b.length-(f-a);for(c=0;c<e.length;++c){var p=e[c];p.clipTo(null==a,a||0,null==d,f,b);p.isDead()&&(p.detach(this),e.splice(c--,1))}}},split:function(a,d){var b=[d,null],c=this.marked;u(a,this.text.length,this.styles,b);b=new e(d+this.text.slice(a),b);if(c)for(var f=0;f<c.length;++f){var p=c[f],g=p.split(a,d.length);g&&(b.marked||(b.marked=[]),b.marked.push(g),g.attach(b),g==
p&&c.splice(f--,1))}return b},append:function(a){var d=this.text.length,b=a.marked,c=this.marked;this.text+=a.text;u(0,a.text.length,a.styles,this.styles);if(c)for(a=0;a<c.length;++a)null==c[a].to&&(c[a].to=d);if(b&&b.length){c||(this.marked=c=[]);a=0;a:for(;a<b.length;++a){var e=b[a];if(!e.from)for(var f=0;f<c.length;++f){var p=c[f];if(p.to==d&&p.sameSet(e)){p.to=null==e.to?null:e.to+d;p.isDead()&&(p.detach(this),b.splice(a--,1));continue a}}c.push(e);e.attach(this);e.from+=d;null!=e.to&&(e.to+=
d)}}},fixMarkEnds:function(a){var d=this.marked,a=a.marked;if(d)for(var b=0;b<d.length;++b){var c=d[b],e=null==c.to;if(e&&a)for(var f=0;f<a.length;++f)if(a[f].sameSet(c)){e=!1;break}e&&(c.to=this.text.length)}},fixMarkStarts:function(){var a=this.marked;if(a)for(var d=0;d<a.length;++d)null==a[d].from&&(a[d].from=0)},addMark:function(a){a.attach(this);null==this.marked&&(this.marked=[]);this.marked.push(a);this.marked.sort(function(a,b){return(a.from||0)-(b.from||0)})},highlight:function(a,d,b){var b=
new q(this.text,b),c=this.styles,e=0,f=!1,p=c[0],g;for(""==this.text&&a.blankLine&&a.blankLine(d);!b.eol();){var i=a.token(b,d),j=this.text.slice(b.start,b.pos);b.start=b.pos;if(e&&c[e-1]==i)c[e-2]+=j;else if(j){if(!f&&(c[e+1]!=i||e&&c[e-2]!=g))f=!0;c[e++]=j;c[e++]=i;g=p;p=c[e]}if(5E3<b.pos){c[e++]=this.text.slice(b.pos);c[e++]=null;break}}c.length!=e&&(c.length=e,f=!0);e&&c[e-2]!=g&&(f=!0);return f||(5>c.length&&10>this.text.length?null:!1)},getTokenAt:function(a,d,b){for(var c=new q(this.text);c.pos<
b&&!c.eol();){c.start=c.pos;var e=a.token(c,d)}return{start:c.start,end:c.pos,string:c.current(),className:e||null,state:d}},indentation:function(a){return Ha(this.text,null,a)},getHTML:function(a,d){function b(d,c){if(d){f&&oa&&" "==d.charAt(0)&&(d="\u00a0"+d.slice(1));f=!1;if(-1==d.indexOf("\t")){p+=d.length;var h=da(d)}else for(var h="",n=0;;){var g=d.indexOf("\t",n);if(-1==g){h+=da(d.slice(n));p+=d.length-n;break}else{p+=g-n;var i=a(p),h=h+(da(d.slice(n,g))+i.html);p+=i.width;n=g+1}}c?e.push('<span class="',
c,'">',h,"</span>"):e.push(h)}}function c(a){return!a?null:"cm-"+a.replace(/ +/g," cm-")}var e=[],f=!0,p=0,g=this.styles,i=this.text,j=this.marked,u=i.length;null!=d&&(u=Math.min(d,u));if(!i&&null==d)b(" ");else if(!j||!j.length)for(var l=i=0;l<u;i+=2){var y=g[i],o=g[i+1],C=y.length;l+C>u&&(y=y.slice(0,u-l));l+=C;b(y,c(o))}else for(var q=0,i=0,l="",s=j[0].from||0,U=[],D=0,y=function(){for(var a;D<j.length&&((a=j[D]).from==q||null==a.from);)null!=a.style&&U.push(a),++D;s=D<j.length?j[D].from:Infinity;
for(a=0;a<U.length;++a){var d=U[a].to||Infinity;d==q?U.splice(a--,1):s=Math.min(d,s)}};q<u;){s==q&&y();for(C=Math.min(u,s);;){if(l){for(var H=q+l.length,E=o,G=0;G<U.length;++G)E=(E?E+" ":"")+U[G].style;b(H>C?l.slice(0,C-q):l,E);if(H>=C){l=l.slice(C-q);q=C;break}q=H}l=g[i++];o=c(g[i++])}}return e.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var a=0,d=this.marked.length;a<d;++a)this.marked[a].detach(this)}};y.prototype={chunkSize:function(){return this.lines.length},remove:function(a,
d,b){for(var c=a,e=a+d;c<e;++c){var f=this.lines[c];this.height-=f.height;f.cleanUp();if(f.handlers)for(var p=0;p<f.handlers.length;++p)b.push(f.handlers[p])}this.lines.splice(a,d)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,d,b){this.height+=b;this.lines.splice.apply(this.lines,[a,0].concat(d));a=0;for(b=d.length;a<b;++a)d[a].parent=this},iterN:function(a,d,b){for(d=a+d;a<d;++a)if(b(this.lines[a]))return!0}};E.prototype={chunkSize:function(){return this.size},
remove:function(a,d,b){this.size-=d;for(var c=0;c<this.children.length;++c){var e=this.children[c],f=e.chunkSize();if(a<f){var p=Math.min(d,f-a),g=e.height;e.remove(a,p,b);this.height-=g-e.height;f==p&&(this.children.splice(c--,1),e.parent=null);if(0==(d-=p))break;a=0}else a-=f}25>this.size-d&&(a=[],this.collapse(a),this.children=[new y(a)],this.children[0].parent=this)},collapse:function(a){for(var d=0,b=this.children.length;d<b;++d)this.children[d].collapse(a)},insert:function(a,d){for(var b=0,
c=0,e=d.length;c<e;++c)b+=d[c].height;this.insertHeight(a,d,b)},insertHeight:function(a,d,b){this.size+=d.length;this.height+=b;for(var c=0,e=this.children.length;c<e;++c){var f=this.children[c],p=f.chunkSize();if(a<=p){f.insertHeight(a,d,b);if(f.lines&&50<f.lines.length){for(;50<f.lines.length;)a=f.lines.splice(f.lines.length-25,25),a=new y(a),f.height-=a.height,this.children.splice(c+1,0,a),a.parent=this;this.maybeSpill()}break}a-=p}},maybeSpill:function(){if(!(10>=this.children.length)){var a=
this;do{var d=a.children.splice(a.children.length-5,5),d=new E(d);if(a.parent){a.size-=d.size;a.height-=d.height;var b=ma(a.parent.children,a);a.parent.children.splice(b+1,0,d)}else b=new E(a.children),b.parent=a,a.children=[b,d],a=b;d.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,d,b){this.iterN(a,d-a,b)},iterN:function(a,d,b){for(var c=0,e=this.children.length;c<e;++c){var f=this.children[c],p=f.chunkSize();if(a<p){p=Math.min(d,p-a);if(f.iterN(a,p,b))return!0;
if(0==(d-=p))break;a=0}else a-=p}}};U.prototype={addChange:function(a,d,b){this.undone.length=0;var c=+new Date,e=this.done[this.done.length-1],f=e&&e[e.length-1];if(400<c-this.time||!f)this.done.push([{start:a,added:d,old:b}]);else if(f.start>a+b.length||f.start+f.added<a-f.added+f.old.length)e.push({start:a,added:d,old:b});else{e=0;if(a<f.start){for(e=f.start-a-1;0<=e;--e)f.old.unshift(b[e]);e=Math.min(0,d-b.length);f.added+=f.start-a+e;f.start=a}else f.start<a&&(e=a-f.start,d+=e);e=f.added-e;for(a=
b.length;e<a;++e)f.old.push(b[e]);f.added<d&&(f.added=d)}this.time=c}};o.e_stop=A;o.e_preventDefault=B;o.e_stopPropagation=M;o.connect=G;Za.prototype={set:function(a,d){clearTimeout(this.id);this.id=setTimeout(d,a)}};var cb=o.Pass={toString:function(){return"CodeMirror.Pass"}},Ea=/gecko\/\d{7}/i.test(navigator.userAgent),oa=/MSIE \d/.test(navigator.userAgent),p=/MSIE [1-8]\b/.test(navigator.userAgent),Ib=/WebKit\//.test(navigator.userAgent),yc=/Chrome\//.test(navigator.userAgent),xc=function(){if(p)return!1;
var a=document.createElement("div");return"draggable"in a||"dragDrop"in a}();(function(){var a=document.createElement("textarea");a.value="foo\nbar";a.value.indexOf("\r")})();null!=document.documentElement.getBoundingClientRect&&(ca=function(a,d){try{var b=a.getBoundingClientRect(),b={top:b.top,left:b.left}}catch(c){b={top:0,left:0}}if(!d)if(null==window.pageYOffset){var e=document.documentElement||document.body.parentNode;null==e.scrollTop&&(e=document.body);b.top+=e.scrollTop;b.left+=e.scrollLeft}else b.top+=
window.pageYOffset,b.left+=window.pageXOffset;return b});var na=document.createElement("pre");"\na"==da("a")?da=function(a){na.textContent=a;return na.innerHTML.slice(1)}:"\t"!=da("\t")&&(da=function(a){na.innerHTML="";na.appendChild(document.createTextNode(a));return na.innerHTML});o.htmlEscape=da;var Pa=3!="\n\nb".split(/\n/).length?function(a){for(var d=0,b,c=[];-1<(b=a.indexOf("\n",d));)c.push(a.slice(d,"\r"==a.charAt(b-1)?b-1:b)),d=b+1;c.push(a.slice(d));return c}:function(a){return a.split(/\r?\n/)};
o.splitLines=Pa;var pc=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(d){return!1}}:function(a){try{var d=a.ownerDocument.selection.createRange()}catch(b){}return!d||d.parentElement()!=a?!1:0!=d.compareEndPoints("StartToEnd",d)};o.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});o.defineMIME("text/plain","null");var Aa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",
34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};o.keyNames=Aa;(function(){for(var a=0;10>a;a++)Aa[a+48]=""+a;for(a=65;90>=a;a++)Aa[a]=String.fromCharCode(a);for(a=1;12>=a;a++)Aa[a+
111]=Aa[a+63235]="F"+a})();return o}();CodeMirror.defineMode("xml",function(o,s){function l(b,c){function e(f){c.tokenize=f;return f(b,c)}var f=b.next();if("<"==f){if(b.eat("!")){if(b.eat("["))return b.match("CDATA[")?e(g("atom","]]\>")):null;if(b.match("--"))return e(g("comment","--\>"));return b.match("DOCTYPE",!0,!0)?(b.eatWhile(/[\w\._\-]/),e(q(1))):null}if(b.eat("?"))return b.eatWhile(/[\w\._\-]/),c.tokenize=g("meta","?>"),"meta";M=b.eat("/")?"closeTag":"openTag";b.eatSpace();for(B="";f=b.eat(/[^\s\u00a0=<>\"\'\/?]/);)B+=f;c.tokenize=
j;return"tag"}if("&"==f)return(b.eat("#")?b.eat("x")?b.eatWhile(/[a-fA-F\d]/)&&b.eat(";"):b.eatWhile(/[\d]/)&&b.eat(";"):b.eatWhile(/[\w\.\-:]/)&&b.eat(";"))?"atom":"error";b.eatWhile(/[^&<]/);return null}function j(b,c){var e=b.next();if(">"==e||"/"==e&&b.eat(">"))return c.tokenize=l,M=">"==e?"endTag":"selfcloseTag","tag";if("="==e)return M="equals",null;if(/[\'\"]/.test(e))return c.tokenize=i(e),c.tokenize(b,c);b.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"word"}function i(b){return function(c,e){for(;!c.eol();)if(c.next()==
b){e.tokenize=j;break}return"string"}}function g(b,c){return function(e,f){for(;!e.eol();){if(e.match(c)){f.tokenize=l;break}e.next()}return b}}function q(b){return function(c,e){for(var f;null!=(f=c.next());){if("<"==f)return e.tokenize=q(b+1),e.tokenize(c,e);if(">"==f)if(1==b){e.tokenize=l;break}else return e.tokenize=q(b-1),e.tokenize(c,e)}return"meta"}}function c(){for(var b=arguments.length-1;0<=b;b--)A.cc.push(arguments[b])}function b(){c.apply(null,arguments);return!0}function e(c){if("openTag"==
c)return A.tagName=B,b(E,u(A.startOfLine));return"closeTag"==c?(c=!1,(c=A.context?A.context.tagName!=B:!0)&&(T="error"),b(y(c))):b()}function u(c){return function(e){if("selfcloseTag"==e||"endTag"==e&&D.autoSelfClosers.hasOwnProperty(A.tagName.toLowerCase()))return b();if("endTag"==e){var e=A.tagName,f=D.doNotIndent.hasOwnProperty(e)||A.context&&A.context.noIndent;A.context={prev:A.context,tagName:e,indent:A.indented,startOfLine:c,noIndent:f}}return b()}}function y(c){return function(e){c&&(T="error");
if("endTag"==e)return A.context&&(A.context=A.context.prev),b();T="error";return b(arguments.callee)}}function E(e){if("word"==e)return T="attribute",b(f,E);if("endTag"==e||"selfcloseTag"==e)return c();T="error";return b(E)}function f(e){if("equals"==e)return b($,E);D.allowMissing||(T="error");return"endTag"==e||"selfcloseTag"==e?c():b()}function $(e){if("string"==e)return b(P);if("word"==e&&D.allowUnquoted)return T="string",b();T="error";return"endTag"==e||"selfCloseTag"==e?c():b()}function P(e){return"string"==
e?b(P):c()}var U=o.indentUnit,D=s.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!1}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},H=s.alignCDATA,B,M,A,T;return{startState:function(){return{tokenize:l,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(b,c){b.sol()&&(c.startOfLine=!0,c.indented=b.indentation());if(b.eatSpace())return null;T=M=B=
null;var f=c.tokenize(b,c);c.type=M;if((f||M)&&"comment"!=f)for(A=c;!(c.cc.pop()||e)(M||f););c.startOfLine=!1;return T||f},indent:function(b,c,e){var f=b.context;if(b.tokenize!=j&&b.tokenize!=l||f&&f.noIndent)return e?e.match(/^(\s*)/)[0].length:0;if(H&&/<!\[CDATA\[/.test(c))return 0;f&&/^<\//.test(c)&&(f=f.prev);for(;f&&!f.startOfLine;)f=f.prev;return f?f.indent+U:0},compareStates:function(b,c){if(b.indented!=c.indented||b.tokenize!=c.tokenize)return!1;for(var e=b.context,f=c.context;;e=e.prev,f=
f.prev){if(!e||!f)return e==f;if(e.tagName!=f.tagName)return!1}},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});CodeMirror.defineMode("javascript",function(o,s){var l,j,i,g;function q(b,c){for(var e=!1,f;null!=(f=b.next());){if(f==c&&!e)return!1;e=!e&&"\\"==f}return e}function c(b,c,e){L=b;cb=e;return c}function b(b,f){var g=b.next();if('"'==g||"'"==g)return g=e(g),f.tokenize=g,g(b,f);if(/[\[\]{}\(\),;\:\.]/.test(g))return c(g);if("0"==g&&b.eat(/x/i))return b.eatWhile(/[\da-f]/i),c("number","number");if(/\d/.test(g))return b.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),c("number","number");if("/"==g){if(b.eat("*"))return g=
u,f.tokenize=g,g(b,f);if(b.eat("/"))return b.skipToEnd(),c("comment","comment");if(f.reAllowed)return q(b,"/"),b.eatWhile(/[gimy]/),c("regexp","string-2");b.eatWhile(Ia);return c("operator",null,b.current())}if("#"==g)return b.skipToEnd(),c("error","error");if(Ia.test(g))return b.eatWhile(Ia),c("operator",null,b.current());b.eatWhile(/[\w\$_]/);var g=b.current(),i=Ga.propertyIsEnumerable(g)&&Ga[g];return i&&f.kwAllowed?c(i.type,i.style,g):c("variable","variable",g)}function e(e){return function(f,
g){q(f,e)||(g.tokenize=b);return c("string","string")}}function u(e,f){for(var g=!1,i;i=e.next();){if("/"==i&&g){f.tokenize=b;break}g="*"==i}return c("comment","comment")}function y(b,c,e,f,g,i){this.indented=b;this.column=c;this.type=e;this.prev=g;this.info=i;null!=f&&(this.align=f)}function E(){for(var b=arguments.length-1;0<=b;b--)g.push(arguments[b])}function f(){E.apply(null,arguments);return!0}function $(b){var c=l;if(c.context){i="def";for(var e=c.localVars;e;e=e.next)if(e.name==b)return;c.localVars=
{name:b,next:c.localVars}}}function P(){l.context||(l.localVars=oa);l.context={prev:l.context,vars:l.localVars}}function U(){l.localVars=l.context.vars;l.context=l.context.prev}function D(b,c){var e=function(){var e=l;e.lexical=new y(e.indented,j.column(),b,null,e.lexical,c)};e.lex=!0;return e}function H(){var b=l;b.lexical.prev&&(")"==b.lexical.type&&(b.indented=b.lexical.indented),b.lexical=b.lexical.prev)}function B(b){return function(c){return c==b?f():";"==b?E():f(arguments.callee)}}function M(b){return"var"==
b?f(D("vardef"),K,B(";"),H):"keyword a"==b?f(D("form"),A,M,H):"keyword b"==b?f(D("form"),M,H):"{"==b?f(D("}"),Ma,H):";"==b?f():"function"==b?f(Fa):"for"==b?f(D("form"),B("("),D(")"),da,B(")"),H,M,H):"variable"==b?f(D("stat"),G):"switch"==b?f(D("form"),A,D("}","switch"),B("{"),Ma,H,H):"case"==b?f(A,B(":")):"default"==b?f(B(":")):"catch"==b?f(D("form"),P,B("("),Ka,B(")"),M,H,U):E(D("stat"),A,B(";"),H)}function A(b){return Ea.hasOwnProperty(b)?f(C):"function"==b?f(Fa):"keyword c"==b?f(T):"("==b?f(D(")"),
T,B(")"),H,C):"operator"==b?f(A):"["==b?f(D("]"),ca(A,"]"),H,C):"{"==b?f(D("}"),ca(Ha,"}"),H,C):f()}function T(b){return b.match(/[;\}\)\],]/)?E():E(A)}function C(b,c){if("operator"==b&&/\+\+|--/.test(c))return f(C);if("operator"==b)return f(A);if(";"!=b){if("("==b)return f(D(")"),ca(A,")"),H,C);if("."==b)return f(Za,C);if("["==b)return f(D("]"),A,B("]"),H,C)}}function G(b){return":"==b?f(H,M):E(C,B(";"),H)}function Za(b){if("variable"==b)return i="property",f()}function Ha(b){"variable"==b&&(i="property");
if(Ea.hasOwnProperty(b))return f(B(":"),A)}function ca(b,c){function e(g){return","==g?f(b,e):g==c?f():f(B(c))}return function(g){return g==c?f():E(b,e)}}function Ma(b){return"}"==b?f():E(M,Ma)}function K(b,c){return"variable"==b?($(c),f(Y)):f()}function Y(b,c){if("="==c)return f(A,Y);if(","==b)return f(K)}function da(b){return"var"==b?f(K,ma):";"==b?E(ma):"variable"==b?f(ub):E(ma)}function ub(b,c){return"in"==c?f(A):f(C,ma)}function ma(b,c){return";"==b?f(Na):"in"==c?f(A):f(A,B(";"),Na)}function Na(b){")"!=
b&&f(A)}function Fa(b,c){if("variable"==b)return $(c),f(Fa);if("("==b)return f(D(")"),P,ca(Ka,")"),H,M,U)}function Ka(b,c){if("variable"==b)return $(c),f()}var Z=o.indentUnit,ia=s.json,Ga=function(){function b(c){return{type:c,style:"keyword"}}var c=b("keyword a"),e=b("keyword b"),f=b("keyword c"),g=b("operator"),i={type:"atom",style:"atom"};return{"if":c,"while":c,"with":c,"else":e,"do":e,"try":e,"finally":e,"return":f,"break":f,"continue":f,"new":f,"delete":f,"throw":f,"var":b("var"),"const":b("var"),
let:b("var"),"function":b("function"),"catch":b("catch"),"for":b("for"),"switch":b("switch"),"case":b("case"),"default":b("default"),"in":g,"typeof":g,"instanceof":g,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i}}(),Ia=/[+\-*&%=<>!?|]/,L,cb,Ea={atom:!0,number:!0,variable:!0,string:!0,regexp:!0};l=null;i=null;g=null;j=void 0;var oa={name:"this",next:{name:"arguments"}};H.lex=!0;return{startState:function(c){return{tokenize:b,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new y((c||0)-Z,0,"block",
!1),localVars:null,context:null,indented:0}},token:function(b,c){b.sol()&&(c.lexical.hasOwnProperty("align")||(c.lexical.align=!1),c.indented=b.indentation());if(b.eatSpace())return null;var e=c.tokenize(b,c);if("comment"==L)return e;c.reAllowed=!!("operator"==L||"keyword c"==L||L.match(/^[\[{}\(,;:]$/));c.kwAllowed="."!=L;var f;a:{var u=L,y=cb,o=c.cc;l=c;j=b;i=null;g=o;c.lexical.hasOwnProperty("align")||(c.lexical.align=!0);for(;;)if((o.length?o.pop():ia?A:M)(u,y)){for(;o.length&&o[o.length-1].lex;)o.pop()();
if(i){f=i;break a}if(f="variable"==u)b:{for(f=c.localVars;f;f=f.next)if(f.name==y){f=!0;break b}f=void 0}f=f?"variable-2":e;break a}}return f},indent:function(c,e){if(c.tokenize!=b)return 0;var f=e&&e.charAt(0),g=c.lexical,i=g.type,j=f==i;return"vardef"==i?g.indented+4:"form"==i&&"{"==f?g.indented:"stat"==i||"form"==i?g.indented+Z:"switch"==g.info&&!j?g.indented+(/^(?:case|default)\b/.test(e)?Z:2*Z):g.align?g.column+(j?0:1):g.indented+(j?0:Z)},electricChars:":{}"}});
CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:!0});CodeMirror.defineMode("css",function(o){function s(b,e){c=e;return b}function l(b,c){var u=b.next();if("@"==u)return b.eatWhile(/[\w\\\-]/),s("meta",b.current());if("/"==u&&b.eat("*"))return c.tokenize=j,j(b,c);if("<"==u&&b.eat("!"))return c.tokenize=i,i(b,c);if("="==u)s(null,"compare");else{if(("~"==u||"|"==u)&&b.eat("="))return s(null,"compare");if('"'==u||"'"==u)return c.tokenize=g(u),c.tokenize(b,c);if("#"==u)return b.eatWhile(/[\w\\\-]/),s("atom","hash");if("!"==u)return b.match(/^\s*\w*/),s("keyword",
"important");if(/\d/.test(u))return b.eatWhile(/[\w.%]/),s("number","unit");if(/[,.+>*\/]/.test(u))return s(null,"select-op");if(/[;{}:\[\]]/.test(u))return s(null,u);b.eatWhile(/[\w\\\-]/);return s("variable","variable")}}function j(b,c){for(var g=!1,i;null!=(i=b.next());){if(g&&"/"==i){c.tokenize=l;break}g="*"==i}return s("comment","comment")}function i(b,c){for(var g=0,i;null!=(i=b.next());){if(2<=g&&">"==i){c.tokenize=l;break}g="-"==i?g+1:0}return s("comment","comment")}function g(b){return function(c,
g){for(var i=!1,j;null!=(j=c.next())&&(!(j==b)||i);)i=!i&&"\\"==j;i||(g.tokenize=l);return s("string","string")}}var q=o.indentUnit,c;return{startState:function(b){return{tokenize:l,baseIndent:b||0,stack:[]}},token:function(b,e){if(b.eatSpace())return null;var g=e.tokenize(b,e),i=e.stack[e.stack.length-1];if("hash"==c&&"rule"!=i)g="string-2";else if("variable"==g)if("rule"==i)g="number";else if(!i||"@media{"==i)g="tag";"rule"==i&&/^[\{\};]$/.test(c)&&e.stack.pop();"{"==c?"@media"==i?e.stack[e.stack.length-
1]="@media{":e.stack.push("{"):"}"==c?e.stack.pop():"@media"==c?e.stack.push("@media"):"{"==i&&"comment"!=c&&e.stack.push("rule");return g},indent:function(b,c){var g=b.stack.length;/^\}/.test(c)&&(g-="rule"==b.stack[b.stack.length-1]?2:1);return b.baseIndent+g*q},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");CodeMirror.defineMode("clike",function(o,s){function l(b,c){var f=b.next();if(E[f]){var g=E[f](b,c);if(!1!==g)return g}if('"'==f||"'"==f)return c.tokenize=j(f),c.tokenize(b,c);if(/[\[\]{}\(\),;\:\.]/.test(f))return P=f,null;if(/\d/.test(f))return b.eatWhile(/[\w\.]/),"number";if("/"==f){if(b.eat("*"))return c.tokenize=i,i(b,c);if(b.eat("/"))return b.skipToEnd(),"comment"}if($.test(f))return b.eatWhile($),"operator";b.eatWhile(/[\w\$_]/);f=b.current();return e.propertyIsEnumerable(f)?(u.propertyIsEnumerable(f)&&
(P="newstatement"),"keyword"):y.propertyIsEnumerable(f)?"atom":"word"}function j(b){return function(c,e){for(var g=!1,i,j=!1;null!=(i=c.next());){if(i==b&&!g){j=!0;break}g=!g&&"\\"==i}if(j||!g&&!f)e.tokenize=null;return"string"}}function i(b,c){for(var e=!1,f;f=b.next();){if("/"==f&&e){c.tokenize=null;break}e="*"==f}return"comment"}function g(b,c,e,f,g){this.indented=b;this.column=c;this.type=e;this.align=f;this.prev=g}function q(b,c,e){return b.context=new g(b.indented,c,e,null,b.context)}function c(b){var c=
b.context.type;if(")"==c||"]"==c||"}"==c)b.indented=b.context.indented;return b.context=b.context.prev}var b=o.indentUnit,e=s.keywords||{},u=s.blockKeywords||{},y=s.atoms||{},E=s.hooks||{},f=s.multiLineStrings,$=/[+\-*&%=<>!?|\/]/,P;return{startState:function(c){return{tokenize:null,context:new g((c||0)-b,0,"top",!1),indented:0,startOfLine:!0}},token:function(b,e){var f=e.context;b.sol()&&(null==f.align&&(f.align=!1),e.indented=b.indentation(),e.startOfLine=!0);if(b.eatSpace())return null;P=null;
var g=(e.tokenize||l)(b,e);if("comment"==g||"meta"==g)return g;null==f.align&&(f.align=!0);if((";"==P||":"==P)&&"statement"==f.type)c(e);else if("{"==P)q(e,b.column(),"}");else if("["==P)q(e,b.column(),"]");else if("("==P)q(e,b.column(),")");else if("}"==P){for(;"statement"==f.type;)f=c(e);for("}"==f.type&&(f=c(e));"statement"==f.type;)f=c(e)}else P==f.type?c(e):("}"==f.type||"top"==f.type||"statement"==f.type&&"newstatement"==P)&&q(e,b.column(),"statement");e.startOfLine=!1;return g},indent:function(c,
e){if(c.tokenize!=l&&null!=c.tokenize)return 0;var f=c.context,g=e&&e.charAt(0);"statement"==f.type&&"}"==g&&(f=f.prev);var i=g==f.type;return"statement"==f.type?f.indented+("{"==g?0:b):f.align?f.column+(i?0:1):f.indented+(i?0:b)},electricChars:"{}"}});
(function(){function o(j){for(var i={},j=j.split(" "),g=0;g<j.length;++g)i[j[g]]=!0;return i}function s(j,i){if(!i.startOfLine)return!1;j.skipToEnd();return"meta"}function l(j,i){for(var g;null!=(g=j.next());)if('"'==g&&!j.eat('"')){i.tokenize=null;break}return"string"}CodeMirror.defineMIME("text/x-csrc",{name:"clike",keywords:o("auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile"),
blockKeywords:o("case do else for if switch while struct"),atoms:o("null"),hooks:{"#":s}});CodeMirror.defineMIME("text/x-c++src",{name:"clike",keywords:o("auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t"),
blockKeywords:o("catch class do else finally for if struct switch try while"),atoms:o("true false null"),hooks:{"#":s}});CodeMirror.defineMIME("text/x-java",{name:"clike",keywords:o("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while kcontext function global rule when then end declare dialect salience query from accumulate collectinit action reverse result sum max min average count"),
blockKeywords:o("catch class do else finally for if switch try while"),atoms:o("true false null"),hooks:{"@":function(j){j.eatWhile(/[\w\$_]/);return"meta"}}});CodeMirror.defineMIME("text/x-csharp",{name:"clike",keywords:o("abstract as base bool break byte case catch char checked class const continue decimal default delegate do double else enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long namespace new object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),
blockKeywords:o("catch class do else finally for foreach if struct switch try while"),atoms:o("true false null"),hooks:{"@":function(j,i){if(j.eat('"'))return i.tokenize=l,l(j,i);j.eatWhile(/[\w\$_]/);return"meta"}}})})();CodeMirror.defineMode("htmlmixed",function(o){function s(b,e){var l=g.token(b,e.htmlState);"tag"==l&&">"==b.current()&&e.htmlState.context&&(/^script$/i.test(e.htmlState.context.tagName)?(e.token=j,e.localState=q.startState(g.indent(e.htmlState,"")),e.mode="javascript"):/^style$/i.test(e.htmlState.context.tagName)&&(e.token=i,e.localState=c.startState(g.indent(e.htmlState,"")),e.mode="css"));return l}function l(b,c,g){var i=b.current(),c=i.search(c);-1<c&&b.backUp(i.length-c);return g}function j(b,
c){return b.match(/^<\/\s*script\s*>/i,!1)?(c.token=s,c.localState=null,c.mode="html",s(b,c)):l(b,/<\/\s*script\s*>/,q.token(b,c.localState))}function i(b,e){return b.match(/^<\/\s*style\s*>/i,!1)?(e.token=s,e.localState=null,e.mode="html",s(b,e)):l(b,/<\/\s*style\s*>/,c.token(b,e.localState))}var g=CodeMirror.getMode(o,{name:"xml",htmlMode:!0}),q=CodeMirror.getMode(o,"javascript"),c=CodeMirror.getMode(o,"css");return{startState:function(){var b=g.startState();return{token:s,localState:null,mode:"html",
htmlState:b}},copyState:function(b){if(b.localState)var e=CodeMirror.copyState(b.token==i?c:q,b.localState);return{token:b.token,localState:e,mode:b.mode,htmlState:CodeMirror.copyState(g,b.htmlState)}},token:function(b,c){return c.token(b,c)},indent:function(b,e){return b.token==s||/^\s*<\//.test(e)?g.indent(b.htmlState,e):b.token==j?q.indent(b.localState,e):c.indent(b.localState,e)},compareStates:function(b,c){return g.compareStates(b.htmlState,c.htmlState)},electricChars:"/{}:"}});
CodeMirror.defineMIME("text/html","htmlmixed");(function(){function o(l,j,i,g){if("undefined"==typeof j||null==j||!0==j)j=l.getOption("closeTagIndent");j||(j=[]);a:{var o=g.toLowerCase();if(j.indexOf)j=j.indexOf(o);else{for(var c=0,b=j.length;c<b;++c)if(j[c]==o){j=c;break a}j=-1}}-1!=j?(l.replaceSelection("\n\n</"+g+">","end"),l.indentLine(i.line+1),l.indentLine(i.line+2),l.setCursor({line:i.line+1,ch:l.getLine(i.line+1).length})):(l.replaceSelection("</"+g+">"),l.setCursor(i))}function s(l,j,i){l.replaceSelection("/"+i+">");l.setCursor({line:j.line,
ch:j.ch+i.length+2})}CodeMirror.defaults.closeTagEnabled=!0;CodeMirror.defaults.closeTagIndent="applet,blockquote,body,button,div,dl,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,html,iframe,layer,legend,object,ol,p,select,table,ul".split(",");CodeMirror.defineExtension("closeTag",function(l,j,i){if(!l.getOption("closeTagEnabled"))throw CodeMirror.Pass;var g=l.getOption("mode");if("text/html"==g){var g=l.getCursor(),q=l.getTokenAt(g),c=q.state;if(c.mode&&"html"!=c.mode)throw CodeMirror.Pass;if(">"==
j){j=c.htmlState?c.htmlState.type:c.type;if("tag"==q.className&&"closeTag"==j)throw CodeMirror.Pass;l.replaceSelection(">");g={line:g.line,ch:g.ch+1};l.setCursor(g);q=l.getTokenAt(l.getCursor());c=q.state;j=c.htmlState?c.htmlState.type:c.type;if("tag"==q.className&&"selfcloseTag"!=j){c=c.htmlState?c.htmlState.context.tagName:c.tagName;0<c.length&&o(l,i,g,c);return}l.setSelection({line:g.line,ch:g.ch-1},g);l.replaceSelection("")}else if("/"==j&&"tag"==q.className&&"<"==q.string&&(c=c.htmlState?c.htmlState.context?
c.htmlState.context.tagName:"":c.context.tagName,0<c.length)){s(l,g,c);return}}else if("xmlpure"==g)if(g=l.getCursor(),q=l.getTokenAt(g),c=q.state.context.tagName,">"==j){if(q.string==c){l.replaceSelection(">");g={line:g.line,ch:g.ch+1};l.setCursor(g);o(l,i,g,c);return}}else if("/"==j&&"<"==q.string){s(l,g,c);return}throw CodeMirror.Pass;})})();(function(){CodeMirror.hint=function(o,s,l){function j(){u||(u=!0,c.parentNode.removeChild(c))}function i(){o.replaceRange(q[b.selectedIndex],g.from,g.to);j();setTimeout(function(){o.focus()},50)}if(!o.somethingSelected()){var g=s(o);if(g&&g.list.length){var q=g.list;if(1==q.length)return o.replaceRange(q[0],g.from,g.to),!0;var c=document.createElement("div");c.className="CodeMirror-completions";var b=c.appendChild(document.createElement("select"));window.opera||(b.multiple=!0);for(var e=0;e<q.length;++e)b.appendChild(document.createElement("option")).appendChild(document.createTextNode(q[e]));
b.firstChild.selected=!0;b.size=Math.min(10,q.length);e=o.cursorCoords();c.style.left=e.x+"px";c.style.top=e.yBot+"px";c.style.position="fixed";l.body.appendChild(c);10>=q.length&&(c.style.width=b.clientWidth-1+"px");var u=!1;CodeMirror.connect(b,"blur",j);CodeMirror.connect(b,"keydown",function(b){var c=b.keyCode;13==c?(CodeMirror.e_stop(b),i()):27==c?(CodeMirror.e_stop(b),j(),o.focus()):38!=c&&40!=c&&(j(),o.focus(),o.triggerOnKeyDown(b),setTimeout(function(){CodeMirror.hint(o,s)},50))});CodeMirror.connect(b,
"dblclick",i);b.focus();window.opera&&setTimeout(function(){u||b.focus()},100);return!0}}}})();(function(){function o(c,b){for(var e=0,g=c.length;e<g;++e)b(c[e])}function s(c,b){if(!Array.prototype.indexOf){for(var e=c.length;e--;)if(c[e]===b)return!0;return!1}return-1!=c.indexOf(b)}function l(c,b,e,g){var l=c.getCursor(),o=g(c,l),f=o;for(/^[\w$_]*$/.test(o.string)||(o=f={start:l.ch,end:l.ch,string:"",state:o.state,className:"."==o.string?"property":null});"property"==f.className;){f=g(c,{line:l.line,ch:f.start});if("."!=f.string)return;f=g(c,{line:l.line,ch:f.start});if(")"==f.string){var q=
1;do switch(f=g(c,{line:l.line,ch:f.start}),f.string){case ")":q++;break;case "(":q--}while(0<q);f=g(c,{line:l.line,ch:f.start});if("variable"==f.className)f.className="function";else return}if(!s)var s=[];s.push(f)}return e&&"form"==e?{list:i(o,s,b),from:{line:l.line,ch:o.start},to:{line:l.line,ch:o.end}}:{list:j(o,s,b),from:{line:l.line,ch:o.start},to:{line:l.line,ch:o.end}}}function j(c,b){function e(b){0==b.indexOf(j)&&!s(i,b)&&(0<b.indexOf(":")?(b=b.split(":"),i.push(b[0])):i.push(b))}var i=
[],j=c.string;if(b)"kcontext"==b.pop().string&&o(g,e);else{o(q,e);var l=ORYX.EDITOR.getSerializedJSON(),f=jsonPath(l.evalJSON(),"$.properties.vardefs");f&&0<f.toString().length&&o(f.toString().split(","),e);(l=jsonPath(l.evalJSON(),"$.properties.globals"))&&0<l.toString().length&&o(l.toString().split(","),e)}return i}function i(c){function b(b){0==b.indexOf(g)&&!s(e,b)&&(0<b.indexOf(":")?(b=b.split(":"),e.push(b[0])):e.push(b))}var e=[],g=c.string;if((c=ORYX.EDITOR._pluginFacade.getSelection())&&
1==c.length)for(var c=c.first().resourceId,i=ORYX.EDITOR.getSerializedJSON(),i=jsonPath(i.evalJSON(),"$.childShapes.*"),j=0;j<i.length;j++){var f=i[j];if(f.resourceId==c){for(var l=f.properties.dataoutputset,q=f.properties.datainputset.split(","),j=0;j<q.length;j++)f=q[j],0<f.indexOf(":")?(f=f.split(":"),b("${"+f[0]+"}")):b("${"+f+"}");l=l.split(",");for(q=0;q<l.length;q++)f=l[q],0<f.indexOf("=")?(f=f.split("="),b(f[0])):b(f)}}else i=ORYX.EDITOR.getSerializedJSON(),(c=jsonPath(i.evalJSON(),"$.properties.vardefs"))&&
0<c.toString().length&&o(c.toString().split(","),b),(c=jsonPath(i.evalJSON(),"$.properties.globals"))&&0<c.toString().length&&o(c.toString().split(","),b);return e}CodeMirror.jbpmHint=function(c){return l(c,g,"script",function(b,c){return b.getTokenAt(c)})};CodeMirror.formsHint=function(c){return l(c,[],"form",function(b,c){return b.getTokenAt(c)})};var g=["getProcessInstance()","getNodeInstance()","getVariable(variableName)","setVariable(variableName,value)","getKnowledgeRuntime()"],q=["return",
"kcontext"]})();(function(){function o(){this.posFrom=this.posTo=this.query=null;this.marked=[]}function s(b,c,e){return b.getSearchCursor(c,e,"string"==typeof c&&c==c.toLowerCase())}function l(b,c,e,g){b.openDialog?b.openDialog(c,g):g(prompt(e,""))}function j(b,c,e,g){if(b.openConfirm)b.openConfirm(c,g);else if(confirm(e))g[0]()}function i(b){var c=b.match(/^\/(.*)\/([a-z]*)$/);return c?RegExp(c[1],-1==c[2].indexOf("i")?"":"i"):b}function g(b,c){var g=b._searchState||(b._searchState=new o);if(g.query)return q(b,
c);l(b,e,"Search for:",function(e){b.operation(function(){if(e&&!g.query){g.query=i(e);if(2E3>b.lineCount())for(var j=s(b,e);j.findNext();)g.marked.push(b.markText(j.from(),j.to(),"CodeMirror-searching"));g.posFrom=g.posTo=b.getCursor();q(b,c)}})})}function q(b,c){b.operation(function(){var e=b._searchState||(b._searchState=new o),g=s(b,e.query,c?e.posFrom:e.posTo);if(!g.find(c)&&(g=s(b,e.query,c?{line:b.lineCount()-1}:{line:0,ch:0}),!g.find(c)))return;b.setSelection(g.from(),g.to());e.posFrom=g.from();
e.posTo=g.to()})}function c(b){b.operation(function(){var c=b._searchState||(b._searchState=new o);if(c.query){c.query=null;for(var e=0;e<c.marked.length;++e)c.marked[e].clear();c.marked.length=0}})}function b(b,e){l(b,u,"Replace:",function(g){g&&(g=i(g),l(b,y,"Replace with:",function(i){if(e)b.compoundChange(function(){b.operation(function(){for(var c=s(b,g);c.findNext();)if("string"!=typeof g){var e=b.getRange(c.from(),c.to()).match(g);c.replace(i.replace(/\$(\d)/,function(b,c){return e[c]}))}else c.replace(i)})});
else{c(b);var l=s(b,g,b.getCursor()),o=function(){var c=l.from(),e;if(!(e=l.findNext()))if(l=s(b,g),!(e=l.findNext())||c&&l.from().line==c.line&&l.from().ch==c.ch)return;b.setSelection(l.from(),l.to());j(b,E,"Replace?",[function(){q(e)},o])},q=function(b){l.replace("string"==typeof g?i:i.replace(/\$(\d)/,function(c,e){return b[e]}));o()};o()}}))})}var e='Search: <input type="text" style="width: 10em"/> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',u='Replace: <input type="text" style="width: 10em"/> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',
y='With: <input type="text" style="width: 10em"/>',E="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";CodeMirror.commands.find=function(b){c(b);g(b)};CodeMirror.commands.findNext=g;CodeMirror.commands.findPrev=function(b){g(b,!0)};CodeMirror.commands.clearSearch=c;CodeMirror.commands.replace=b;CodeMirror.commands.replaceAll=function(c){b(c,!0)}})();(function(){function o(o,l,j,i){this.atOccurrence=!1;this.cm=o;null==i&&"string"==typeof l&&(i=!1);j=j?o.clipPos(j):{line:0,ch:0};this.pos={from:j,to:j};if("string"!=typeof l)this.matches=function(c,b){if(c)for(var e=o.getLine(b.line).slice(0,b.ch),g=e.match(l),i=0;g;){var j=e.indexOf(g[0]),i=i+j,e=e.slice(j+1);if(j=e.match(l))g=j;else break;i++}else e=o.getLine(b.line).slice(b.ch),i=(g=e.match(l))&&b.ch+e.indexOf(g[0]);if(g)return{from:{line:b.line,ch:i},to:{line:b.line,ch:i+g[0].length},match:g}};
else{i&&(l=l.toLowerCase());var g=i?function(c){return c.toLowerCase()}:function(c){return c},q=l.split("\n");this.matches=1==q.length?function(c,b){var e=g(o.getLine(b.line)),i=l.length,j;if(c?b.ch>=i&&-1!=(j=e.lastIndexOf(l,b.ch-i)):-1!=(j=e.indexOf(l,b.ch)))return{from:{line:b.line,ch:j},to:{line:b.line,ch:j+i}}}:function(c,b){var e=b.line,i=c?q.length-1:0,j=q[i],l=g(o.getLine(e)),f=c?l.indexOf(j)+j.length:l.lastIndexOf(j);if(!(c?f>=b.ch||f!=j.length:f<=b.ch||f!=l.length-j.length))for(;!(c?!e:
e==o.lineCount()-1);){l=g(o.getLine(e+=c?-1:1));j=q[c?--i:++i];if(0<i&&i<q.length-1)if(l!=j)break;else continue;i=c?l.lastIndexOf(j):l.indexOf(j)+j.length;if(c?i!=l.length-j.length:i!=j.length)break;j={line:b.line,ch:f};e={line:e,ch:i};return{from:c?e:j,to:c?j:e}}}}}o.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(o){function l(g){g={line:g,ch:0};j.pos={from:g,to:g};return j.atOccurrence=!1}for(var j=this,i=this.cm.clipPos(o?this.pos.from:
this.pos.to);;){if(this.pos=this.matches(o,i))return this.atOccurrence=!0,this.pos.match||!0;if(o){if(!i.line)return l(0);i={line:i.line-1,ch:this.cm.getLine(i.line-1).length}}else{var g=this.cm.lineCount();if(i.line==g-1)return l(g);i={line:i.line+1,ch:0}}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(o){this.atOccurrence&&(this.pos.to=this.cm.replaceRange(o,this.pos.from,this.pos.to))}};CodeMirror.defineExtension("getSearchCursor",
function(s,l,j){return new o(this,s,l,j)})})();(function(){function o(o,l){var j=o.getWrapperElement(),j=j.insertBefore(document.createElement("div"),j.firstChild);j.className="CodeMirror-dialog";j.innerHTML="<div>"+l+"</div>";return j}CodeMirror.defineExtension("openDialog",function(s,l){function j(){g||(g=!0,i.parentNode.removeChild(i))}var i=o(this,s),g=!1,q=this,c=i.getElementsByTagName("input")[0],b;if(c)CodeMirror.connect(c,"keydown",function(b){if(13==b.keyCode||27==b.keyCode)CodeMirror.e_stop(b),j(),q.focus(),13==b.keyCode&&l(c.value)}),
c.focus(),CodeMirror.connect(c,"blur",j);else if(b=i.getElementsByTagName("button")[0])CodeMirror.connect(b,"click",j),b.focus(),CodeMirror.connect(b,"blur",j);return j});CodeMirror.defineExtension("openConfirm",function(s,l){function j(){q||(q=!0,i.parentNode.removeChild(i),c.focus())}var i=o(this,s),g=i.getElementsByTagName("button"),q=!1,c=this,b=1;g[0].focus();for(var e=0;e<g.length;++e){var u=g[e];(function(b){CodeMirror.connect(u,"click",function(e){CodeMirror.e_preventDefault(e);j();b&&b(c)})})(l[e]);
CodeMirror.connect(u,"blur",function(){--b;setTimeout(function(){0>=b&&j()},200)});CodeMirror.connect(u,"focus",function(){++b})}})})();CodeMirror.tagRangeFinder=function(o,s,l){for(var j=RegExp("^[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*"),i=o.getLine(s),g=!1,q=null,c=0;!g;){c=i.indexOf("<",
c);if(-1==c)return;if(c+1<i.length&&"/"==i[c+1])c++;else if(i.substr(c+1).match(j)){var b=i.indexOf(">",c+1);if(-1==b){for(var g=s+1,e=!1,b=o.lineCount();g<b&&!e;){var u=o.getLine(g),y=u.indexOf(">");if(-1!=y&&(e=!0,u=u.lastIndexOf("/",y),-1!=u&&u<y&&(y=i.substr(u,y-u+1),!y.match(/\/\s*\>/))))return!0===l&&g++,g;g++}g=!0}else e=i.lastIndexOf("/",b),-1==e?g=!0:(y=i.substr(e,b-e+1),y.match(/\/\s*\>/)||(g=!0));g&&((q=i.substr(c+1).match(j))?(q=q[0],-1!=i.indexOf("</"+q+">",c)&&(g=!1)):g=!1);g||c++}else c++}if(g){j=
RegExp("(\\<\\/"+q+"\\>)|(\\<"+q+"\\>)|(\\<"+q+"\\s)|(\\<"+q+"$)","g");q="</"+q+">";c=1;g=s+1;for(b=o.lineCount();g<b;){i=o.getLine(g);if(s=i.match(j))for(i=0;i<s.length;i++)if(s[i]==q?c--:c++,!c)return!0===l&&g++,g;g++}}};
CodeMirror.braceRangeFinder=function(o,s,l){for(var j=o.getLine(s),i=j.length,g,q;;){i=j.lastIndexOf("{",i);if(0>i)break;q=o.getTokenAt({line:s,ch:i}).className;if(!/^(comment|string)/.test(q)){g=i;break}i-=1}if(!(null==g||j.lastIndexOf("}")>g)){j=1;g=o.lineCount();var c,i=s+1;a:for(;i<g;++i)for(var b=o.getLine(i),e=0;;){var u=b.indexOf("{",e),e=b.indexOf("}",e);0>u&&(u=b.length);0>e&&(e=b.length);e=Math.min(u,e);if(e==b.length)break;if(o.getTokenAt({line:i,ch:e+1}).className==q)if(e==u)++j;else if(!--j){c=
i;break a}++e}if(!(null==c||c==s+1))return!0===l&&c++,c}};CodeMirror.indentRangeFinder=function(o,s){for(var l=o.getOption("tabSize"),j=o.getLineHandle(s).indentation(l),i,g=s+1,q=o.lineCount();g<q;++g){var c=o.getLineHandle(g);if(!/^\s*$/.test(c.text)){if(c.indentation(l)<=j)break;i=g}}return!i?null:i+1};
CodeMirror.newFoldFunction=function(o,s,l){function j(i,c){for(var b=0;b<g.length;++b){var e=i.lineInfo(g[b].start);if(e){if(e.line==c)return{pos:b,region:g[b]}}else g.splice(b--,1)}}function i(g,c){g.clearMarker(c.start);for(var b=0;b<c.hidden.length;++b)g.showLine(c.hidden[b])}var g=[];null==s&&(s='<div style="position: absolute; left: 2px; color:#600">&#x25bc;</div>%N%');return function(q,c){q.operation(function(){var b=j(q,c);if(b)g.splice(b.pos,1),i(q,b.region);else{var e=o(q,c,l);if(null!=e){for(var b=
[],u=c+1;u<e;++u){var y=q.hideLine(u);y&&b.push(y)}var e=q.setMarker(c,s),E={start:e,hidden:b};q.onDeleteLine(e,function(){i(q,E)});g.push(E)}}})}};
